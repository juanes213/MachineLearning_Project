
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>$\(Backtesting Module\)$ &#8212; AlgoTrading Machine learning project</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'backtesting_module';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="AlgoTrading Machine learning project - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="AlgoTrading Machine learning project - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Machine Learning Final
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="futuros_eda.html">EDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bcktst_mdle.html">$<span class="math notranslate nohighlight">\(\text{Backtesting Module}\)</span>$</a></li>







<li class="toctree-l1"><a class="reference internal" href="modeloDQN.html">Implementaci√≥n Modelo DQN</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fbacktesting_module.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/backtesting_module.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>$Backtesting Module$</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#libraries">$<span class="math notranslate nohighlight">\(Libraries\)</span>$</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tick-processor">$<span class="math notranslate nohighlight">\( Tick Processor \)</span>$</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivo-general"><strong>Objetivo general:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#partes-principales-del-codigo"><strong>Partes principales del c√≥digo:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funciones-auxiliares"><strong>Funciones auxiliares:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcionamiento-de-la-estrategia-von-neuman"><strong>Funcionamiento de la estrategia ‚ÄúVon Neuman‚Äù:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyzer">$<span class="math notranslate nohighlight">\( Analyzer \)</span>$</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Objetivo general:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>Partes principales del c√≥digo:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><strong>Funciones auxiliares:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcionamiento-del-calculo-de-balance-y-drawdown"><strong>Funcionamiento del c√°lculo de balance y drawdown:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#compute-balance-for-big-file"><strong>compute_balance_for_big_file:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#compute-drawdown-for-big-file"><strong>compute_drawdown_for_big_file:</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><strong>Objetivo general:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logica-principal"><strong>L√≥gica principal:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primer-grafica">Primer grafica</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segunda-grafica">Segunda grafica</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#drawdown-vs-balance-vs-perfil">Drawdown vs Balance vs Perfil</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusiones"><strong>Conclusiones:</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="backtesting-module">
<h1>$<span class="math notranslate nohighlight">\(Backtesting Module\)</span>$<a class="headerlink" href="#backtesting-module" title="Link to this heading">#</a></h1>
<section id="libraries">
<h2>$<span class="math notranslate nohighlight">\(Libraries\)</span>$<a class="headerlink" href="#libraries" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>
<span class="kn">import</span> <span class="nn">gym</span>
<span class="kn">from</span> <span class="nn">gym</span> <span class="kn">import</span> <span class="n">wrappers</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="n">pio</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="s1">&#39;colab&#39;</span>
<span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">9</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>
<span class="ne">----&gt; </span><span class="mi">9</span> <span class="kn">import</span> <span class="nn">gym</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="kn">from</span> <span class="nn">gym</span> <span class="kn">import</span> <span class="n">wrappers</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;gym&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="tick-processor">
<h2>$<span class="math notranslate nohighlight">\( Tick Processor \)</span>$<a class="headerlink" href="#tick-processor" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_unix</span><span class="p">(</span><span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">format_date</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%Y&quot;</span>
    <span class="n">format_time</span> <span class="o">=</span> <span class="s2">&quot;%H:%M:%S.</span><span class="si">%f</span><span class="s2">000&quot;</span>
    <span class="n">date_obj</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">format_date</span><span class="p">)</span>
    <span class="n">time_obj</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">format_time</span><span class="p">)</span>
    <span class="n">almost</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">date_obj</span><span class="o">.</span><span class="n">date</span><span class="p">(),</span> <span class="n">time_obj</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">almost</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
<span class="k">class</span> <span class="nc">Tick</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">splitted_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">splitted_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">splitted_line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bid</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">splitted_line</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ask</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">splitted_line</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unix_code</span> <span class="o">=</span> <span class="n">get_unix</span><span class="p">(</span><span class="n">splitted_line</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">splitted_line</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">Strategy</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">def</span> <span class="nf">Von_Neuman</span><span class="p">(</span> <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span> <span class="nb">float</span> <span class="p">],</span> <span class="n">tres_hold</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">acumulated_side_bool</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">cant_part</span> <span class="o">=</span> <span class="mi">8</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">prices</span> <span class="o">=</span> <span class="n">prices</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span> <span class="nb">id</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="ow">or</span> <span class="p">(</span> <span class="n">acumulated_side_bool</span> <span class="ow">is</span> <span class="kc">False</span> <span class="p">)</span> <span class="p">:</span>
            <span class="n">up_down</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>
            <span class="k">if</span> <span class="n">cant_part</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">index_groups</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cant_part</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">prices</span><span class="p">[</span><span class="n">index_groups</span> <span class="o">*</span> <span class="mi">100</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="p">[(</span><span class="n">index_groups</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">]:</span>
                            <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="n">prices</span><span class="p">[</span><span class="n">index_groups</span> <span class="o">*</span> <span class="mi">100</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">prices</span><span class="p">[(</span><span class="n">index_groups</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">]:</span>
                            <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                        <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">avg</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">up_down</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">up_down</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">avg</span> <span class="o">&gt;</span> <span class="n">tres_hold</span><span class="p">:</span>
                        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">return</span> <span class="mi">0</span>
                <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
                    <span class="k">return</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="p">(</span> <span class="nb">id</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span> <span class="n">acumulated_side_bool</span> <span class="ow">is</span> <span class="kc">True</span> <span class="p">)</span> <span class="p">:</span>
            <span class="n">up_down</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">cant_part</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">index_groups</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cant_part</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">prices</span><span class="p">[</span><span class="n">index_groups</span> <span class="o">*</span> <span class="mi">10</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="p">[(</span><span class="n">index_groups</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">]:</span>
                            <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="n">prices</span><span class="p">[</span><span class="n">index_groups</span> <span class="o">*</span> <span class="mi">10</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">prices</span><span class="p">[(</span><span class="n">index_groups</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">]:</span>
                            <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                        <span class="n">up_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">try</span> <span class="p">:</span>
                    <span class="n">avg</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span> <span class="n">up_down</span> <span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span> <span class="n">up_down</span> <span class="p">)</span>
                    <span class="k">if</span> <span class="o">-</span><span class="n">tres_hold</span> <span class="o">&lt;=</span> <span class="n">avg</span> <span class="o">&lt;=</span> <span class="n">tres_hold</span><span class="p">:</span>
                        <span class="k">return</span> <span class="mi">0</span>
                    <span class="k">elif</span> <span class="n">avg</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">return</span> <span class="mi">1</span>
                <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
                    <span class="k">return</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">compute_balance</span><span class="p">(</span><span class="n">orders_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">tick</span><span class="p">:</span> <span class="n">Tick</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">open_balance</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">orders_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">side</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span>
            <span class="n">number_units</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">bid_price</span><span class="p">,</span> <span class="n">ask_price</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="n">last_bid</span><span class="p">,</span> <span class="n">last_ask</span> <span class="o">=</span> <span class="n">tick</span><span class="o">.</span><span class="n">bid</span><span class="p">,</span> <span class="n">tick</span><span class="o">.</span><span class="n">ask</span>
            <span class="n">profit_loss</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">profit_loss</span> <span class="o">=</span> <span class="n">number_units</span> <span class="o">*</span> <span class="n">last_bid</span> <span class="o">-</span> <span class="n">number_units</span> <span class="o">*</span> <span class="n">ask_price</span>
            <span class="k">elif</span> <span class="n">side</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">profit_loss</span> <span class="o">=</span> <span class="n">number_units</span> <span class="o">*</span> <span class="n">bid_price</span> <span class="o">-</span> <span class="n">number_units</span> <span class="o">*</span> <span class="n">last_ask</span>
            <span class="n">open_balance</span> <span class="o">+=</span> <span class="n">profit_loss</span>
    <span class="k">return</span> <span class="n">open_balance</span> <span class="o">*</span> <span class="mi">1</span>
<span class="k">def</span> <span class="nf">compute_drawdown</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">orders_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">tick</span><span class="p">:</span> <span class="n">Tick</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">orders_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">last_balance</span> <span class="o">=</span> <span class="n">compute_balance</span><span class="p">(</span><span class="n">orders_list</span><span class="p">,</span> <span class="n">tick</span><span class="p">)</span>
        <span class="n">balances</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_reader</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_reader</span><span class="p">:</span>
                <span class="n">balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">6</span><span class="p">]))</span>
        <span class="n">balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">last_balance</span><span class="p">)</span>
        <span class="n">max_drawdown</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">drawdown</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">peak</span> <span class="o">=</span> <span class="n">balances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">balance</span> <span class="ow">in</span> <span class="n">balances</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">balance</span> <span class="o">&gt;</span> <span class="n">peak</span><span class="p">:</span>
                <span class="n">peak</span> <span class="o">=</span> <span class="n">balance</span>
            <span class="n">drawdown</span> <span class="o">=</span> <span class="n">peak</span> <span class="o">-</span> <span class="n">balance</span>
            <span class="k">if</span> <span class="n">drawdown</span> <span class="o">&gt;</span> <span class="n">max_drawdown</span><span class="p">:</span>
                <span class="n">max_drawdown</span> <span class="o">=</span> <span class="n">drawdown</span>
        <span class="k">return</span> <span class="n">max_drawdown</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">Register</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_in_process</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">file_in_process</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">:&#39;</span><span class="p">)</span>
        <span class="n">file_in_process</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">file_content</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_in_process</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">file_in_process</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

<span class="k">def</span> <span class="nf">time_signal_detector</span><span class="p">(</span> <span class="n">current_tick</span><span class="p">:</span> <span class="n">Tick</span><span class="p">,</span> <span class="n">previous_tick</span><span class="p">:</span> <span class="n">Tick</span><span class="p">,</span> <span class="n">pivot_unix</span><span class="p">:</span> <span class="nb">int</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">current_unix</span> <span class="o">=</span> <span class="n">current_tick</span><span class="o">.</span><span class="n">unix_code</span>
    <span class="n">previous_unix</span> <span class="o">=</span> <span class="n">previous_tick</span><span class="o">.</span><span class="n">unix_code</span>
    <span class="k">if</span> <span class="n">current_unix</span> <span class="o">&lt;=</span> <span class="n">pivot_unix</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">previous_unix</span> <span class="o">&lt;=</span> <span class="n">pivot_unix</span> <span class="o">&lt;</span> <span class="n">current_unix</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">State_detector</span><span class="p">(</span><span class="n">acumulated_side</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">acumulated_side</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">:</span>
          <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span> <span class="p">:</span>
          <span class="k">return</span> <span class="kc">True</span>

<span class="n">time_frames</span> <span class="o">=</span> <span class="p">[</span><span class="mi">350</span><span class="p">,</span> <span class="mi">357</span><span class="p">,</span> <span class="mi">364</span><span class="p">,</span> <span class="mi">371</span><span class="p">,</span> <span class="mi">378</span><span class="p">,</span> <span class="mi">385</span><span class="p">,</span> <span class="mi">392</span><span class="p">,</span> <span class="mi">399</span><span class="p">,</span> <span class="mi">406</span><span class="p">,</span> <span class="mi">413</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">427</span><span class="p">,</span> <span class="mi">434</span><span class="p">,</span> <span class="mi">441</span><span class="p">,</span> <span class="mi">448</span><span class="p">,</span>
               <span class="mi">455</span><span class="p">,</span> <span class="mi">462</span><span class="p">,</span> <span class="mi">469</span><span class="p">,</span> <span class="mi">476</span><span class="p">,</span> <span class="mi">483</span><span class="p">,</span> <span class="mi">490</span><span class="p">,</span> <span class="mi">497</span><span class="p">,</span> <span class="mi">504</span><span class="p">,</span> <span class="mi">511</span><span class="p">,</span> <span class="mi">518</span><span class="p">,</span> <span class="mi">525</span><span class="p">,</span> <span class="mi">532</span><span class="p">,</span> <span class="mi">539</span><span class="p">,</span> <span class="mi">546</span><span class="p">,</span> <span class="mi">553</span><span class="p">,</span>
               <span class="mi">560</span><span class="p">,</span> <span class="mi">567</span><span class="p">,</span> <span class="mi">574</span><span class="p">,</span> <span class="mi">581</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">595</span><span class="p">,</span> <span class="mi">602</span><span class="p">,</span> <span class="mi">609</span><span class="p">,</span> <span class="mi">616</span><span class="p">,</span> <span class="mi">623</span><span class="p">,</span> <span class="mi">630</span><span class="p">,</span> <span class="mi">637</span><span class="p">,</span> <span class="mi">644</span><span class="p">,</span> <span class="mi">651</span><span class="p">,</span> <span class="mi">658</span><span class="p">,</span>
               <span class="mi">665</span><span class="p">,</span> <span class="mi">672</span><span class="p">,</span> <span class="mi">679</span><span class="p">,</span> <span class="mi">686</span><span class="p">,</span> <span class="mi">693</span><span class="p">]</span>

<span class="n">dict_for_tres_hold</span> <span class="o">=</span> <span class="p">{</span>  <span class="mf">0.07</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
                        <span class="mf">0.08</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span>
                        <span class="mf">0.09</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span>
                        <span class="mf">0.1</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span>
                        <span class="mf">0.15</span><span class="p">:</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span>
                        <span class="mf">0.16</span><span class="p">:</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span>
                        <span class="mf">0.17</span><span class="p">:</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span>
                        <span class="mf">0.18</span><span class="p">:</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span>
                        <span class="mf">0.19</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span>
                        <span class="mf">0.2</span><span class="p">:</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span>
                        <span class="mf">0.25</span><span class="p">:</span> <span class="s1">&#39;K&#39;</span> <span class="p">}</span>

<span class="n">dict_for_decision</span> <span class="o">=</span>  <span class="p">{</span>  <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;sell&#39;</span><span class="p">,</span>
                       <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;buy&#39;</span>  <span class="p">}</span>

<span class="n">dict_for_time_frames</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">time_frames</span><span class="p">):</span>
    <span class="n">dict_for_time_frames</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;P_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span>

<span class="k">def</span> <span class="nf">Process_day</span><span class="p">(</span><span class="n">time_frame</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path_of_current_day</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">day</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Strat</span><span class="p">:</span> <span class="n">Strategy</span><span class="p">,</span> <span class="n">sum_side_by_day</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">list_for_balance</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>
    <span class="n">prices</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>
    <span class="n">index_for_balance</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_of_current_day</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">current_day</span><span class="p">:</span>
        <span class="n">current_day_list</span> <span class="o">=</span> <span class="n">current_day</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="n">last_hour</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(((</span><span class="n">current_day_list</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">current_hour</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Separar la parte entera y decimal del time_frame</span>
        <span class="n">int_part</span><span class="p">,</span> <span class="o">*</span><span class="n">decimal_part</span> <span class="o">=</span> <span class="n">time_frame</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
        <span class="n">int_part</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">int_part</span><span class="p">)</span>
        <span class="n">float_part</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">decimal_part</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">if</span> <span class="n">decimal_part</span> <span class="k">else</span> <span class="mi">0</span>

        <span class="c1"># Calcular los minutos y segundos a incrementar</span>
        <span class="n">increment_minutes</span> <span class="o">=</span> <span class="n">int_part</span>
        <span class="n">increment_seconds</span> <span class="o">=</span> <span class="n">float_part</span> <span class="o">*</span> <span class="mi">6</span>

        <span class="n">current_minute</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">current_seconds</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">pivot_time</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">current_hour</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">current_minute</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">current_seconds</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">.000000000&#39;</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">current_day_list</span><span class="p">)):</span>
            <span class="n">current_tick</span> <span class="o">=</span> <span class="n">Tick</span><span class="p">(</span><span class="n">current_day_list</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
            <span class="n">previous_tick</span> <span class="o">=</span> <span class="n">Tick</span><span class="p">(</span><span class="n">current_day_list</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
            <span class="n">pivot_unix</span> <span class="o">=</span> <span class="n">get_unix</span><span class="p">(</span><span class="n">current_tick</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">pivot_time</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time_signal_detector</span><span class="p">(</span><span class="n">current_tick</span><span class="p">,</span> <span class="n">previous_tick</span><span class="p">,</span> <span class="n">pivot_unix</span><span class="p">):</span>
                <span class="n">prices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">previous_tick</span><span class="o">.</span><span class="n">bid</span><span class="p">,</span> <span class="n">current_tick</span><span class="o">.</span><span class="n">ask</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">selected_tres_hold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mf">0.07</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.09</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.17</span><span class="p">,</span> <span class="mf">0.18</span><span class="p">,</span> <span class="mf">0.19</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">])</span>
                <span class="n">side</span> <span class="o">=</span> <span class="n">Strat</span><span class="o">.</span><span class="n">Von_Neuman</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">prices</span><span class="p">,</span> <span class="n">selected_tres_hold</span><span class="p">,</span> <span class="n">State_detector</span><span class="p">(</span><span class="n">sum_side_by_day</span><span class="p">))</span>
                <span class="n">sum_side_by_day</span> <span class="o">+=</span> <span class="n">side</span>
                <span class="k">if</span> <span class="n">side</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">list_for_balance</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">side</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">previous_tick</span><span class="o">.</span><span class="n">bid</span><span class="p">,</span> <span class="n">previous_tick</span><span class="o">.</span><span class="n">ask</span><span class="p">])</span>
                    <span class="n">P_L</span> <span class="o">=</span> <span class="n">compute_balance</span><span class="p">(</span><span class="n">list_for_balance</span><span class="p">,</span> <span class="n">previous_tick</span><span class="p">)</span>
                    <span class="n">drawdown</span> <span class="o">=</span> <span class="n">compute_drawdown</span><span class="p">(</span><span class="n">dict_for_time_frames</span><span class="p">[</span><span class="n">time_frame</span><span class="p">]</span><span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span>  <span class="n">day</span><span class="p">,</span> <span class="n">list_for_balance</span><span class="p">,</span> <span class="n">previous_tick</span><span class="p">)</span>
                    <span class="n">Register</span><span class="p">(</span><span class="n">dict_for_time_frames</span><span class="p">[</span><span class="n">time_frame</span><span class="p">]</span><span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span>  <span class="n">day</span><span class="p">,</span> <span class="p">[</span><span class="nb">id</span><span class="p">,</span> <span class="n">dict_for_tres_hold</span><span class="p">[</span><span class="n">selected_tres_hold</span><span class="p">],</span> <span class="n">dict_for_decision</span><span class="p">[</span><span class="n">side</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="n">previous_tick</span><span class="o">.</span><span class="n">bid</span><span class="p">,</span> <span class="n">previous_tick</span><span class="o">.</span><span class="n">ask</span><span class="p">,</span> <span class="n">P_L</span><span class="p">,</span> <span class="n">drawdown</span><span class="p">])</span>
                    <span class="nb">id</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">current_seconds</span> <span class="o">+=</span> <span class="n">increment_seconds</span>
                <span class="k">if</span> <span class="n">current_seconds</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">:</span>
                    <span class="n">current_seconds</span> <span class="o">-=</span> <span class="mi">60</span>
                    <span class="n">current_minute</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="n">current_minute</span> <span class="o">+=</span> <span class="n">increment_minutes</span>
                <span class="k">if</span> <span class="n">current_minute</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">:</span>
                    <span class="n">extra_hours</span> <span class="o">=</span> <span class="n">current_minute</span> <span class="o">//</span> <span class="mi">60</span>
                    <span class="n">current_minute</span> <span class="o">=</span> <span class="n">current_minute</span> <span class="o">%</span> <span class="mi">60</span>
                    <span class="n">current_hour</span> <span class="o">+=</span> <span class="n">extra_hours</span>

                <span class="k">if</span> <span class="n">current_hour</span> <span class="o">&gt;=</span> <span class="n">last_hour</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">dict_for_time_frames</span><span class="p">[</span><span class="n">time_frame</span><span class="p">]</span><span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">day</span>

                <span class="n">pivot_time</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">current_hour</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">current_minute</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">current_seconds</span><span class="p">)</span><span class="si">:</span><span class="s1">02</span><span class="si">}</span><span class="s1">.000000000&#39;</span>
                <span class="n">prices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">dict_for_time_frames</span><span class="p">[</span><span class="n">time_frame</span><span class="p">]</span><span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">day</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">folder</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;folder of Data Ticks : &quot;</span><span class="p">)</span>
<span class="n">folder_for_results</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Write the path where u want to place the results of the backtesting : &quot;</span><span class="p">)</span>
<span class="n">archives_in_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span> <span class="n">folder</span> <span class="p">)</span>
<span class="k">for</span> <span class="n">archive_name</span> <span class="ow">in</span> <span class="n">archives_in_folder</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">archive_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.txt&#39;</span><span class="p">):</span>
        <span class="n">complete_route</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">archive_name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">time_frame</span> <span class="ow">in</span> <span class="n">time_frames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">time_frame</span><span class="si">}</span><span class="s1"> : </span><span class="si">{</span><span class="n">complete_route</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">Strat</span> <span class="o">=</span> <span class="n">Strategy</span><span class="p">(</span> <span class="p">)</span>
            <span class="n">path_of_analized_day</span> <span class="o">=</span> <span class="n">Process_day</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">time_frame</span><span class="p">),</span> <span class="n">complete_route</span><span class="p">,</span> <span class="n">archive_name</span><span class="p">,</span> <span class="n">Strat</span><span class="p">)</span>
            <span class="n">place_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_for_results</span><span class="p">,</span> <span class="n">path_of_analized_day</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">place_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
                    <span class="n">archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_content</span><span class="p">(</span><span class="n">path_of_analized_day</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_of_analized_day</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">path_of_analized_day</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="objetivo-general">
<h2><strong>Objetivo general:</strong><a class="headerlink" href="#objetivo-general" title="Link to this heading">#</a></h2>
<p>El c√≥digo ‚ÄúTick Processor‚Äù es un componente clave en un sistema de trading automatizado. Su funci√≥n principal es procesar los datos de mercado en tiempo real (ticks) y aplicar una estrategia de trading para generar se√±ales de compra o venta. En este caso, la estrategia implementada es la ‚ÄúVon Neuman‚Äù, que busca identificar tendencias en los precios para tomar decisiones.</p>
</section>
<section id="partes-principales-del-codigo">
<h2><strong>Partes principales del c√≥digo:</strong><a class="headerlink" href="#partes-principales-del-codigo" title="Link to this heading">#</a></h2>
<section id="funciones-auxiliares">
<h3><strong>Funciones auxiliares:</strong><a class="headerlink" href="#funciones-auxiliares" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>get_unix: Convierte fechas y horas en formato de tiempo Unix (segundos desde el 1 de enero de 1970), necesario para c√°lculos temporales.</p></li>
<li><p>compute_balance, compute_drawdown: Calculan el balance actual de la cuenta y el m√°ximo retroceso (drawdown) experimentado.</p></li>
<li><p>Register, file_content: Manejan el registro de operaciones y resultados en archivos.</p></li>
<li><p>time_signal_detector: Detecta si ha pasado un intervalo de tiempo espec√≠fico (time frame) para aplicar la estrategia.</p></li>
<li><p>State_detector: Determina si hay una posici√≥n abierta (compra o venta) en el mercado.</p></li>
</ul>
<p><strong>Clases:</strong></p>
<ul class="simple">
<li><p>Tick: Representa un tick de mercado con fecha, hora, precios de compra (bid) y venta (ask).
Strategy: Contiene la l√≥gica de la estrategia ‚ÄúVon Neuman‚Äù, que analiza tendencias en los precios y genera se√±ales de compra o venta.</p></li>
<li><p>L√≥gica principal (Process_day):</p></li>
</ul>
<p>Itera sobre los ticks de un d√≠a espec√≠fico.
Detecta si ha pasado un intervalo de tiempo (time frame) predefinido.
Aplica la estrategia ‚ÄúVon Neuman‚Äù a los precios acumulados en el intervalo.
Registra las √≥rdenes generadas (compra o venta) junto con informaci√≥n relevante (balance, drawdown, etc.).</p>
</section>
<section id="funcionamiento-de-la-estrategia-von-neuman">
<h3><strong>Funcionamiento de la estrategia ‚ÄúVon Neuman‚Äù:</strong><a class="headerlink" href="#funcionamiento-de-la-estrategia-von-neuman" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>An√°lisis de tendencias: Divide los precios en grupos y calcula un promedio de las variaciones entre grupos.</p></li>
<li><p>Umbrales din√°micos: Selecciona aleatoriamente un umbral de sensibilidad a la tendencia (tres_hold).</p></li>
<li><p>Generaci√≥n de se√±ales:
Si es el primer tick del d√≠a o no hay posici√≥n abierta, eval√∫a si la tendencia promedio supera el umbral positivo o negativo para generar una se√±al de venta o compra, respectivamente.
Si hay una posici√≥n abierta, eval√∫a si la tendencia promedio est√° dentro de un rango neutral (sin tendencia clara) para cerrar la posici√≥n, o si supera el umbral positivo o negativo para mantenerla.</p></li>
</ul>
</section>
<section id="analyzer">
<h3>$<span class="math notranslate nohighlight">\( Analyzer \)</span>$<a class="headerlink" href="#analyzer" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compute_balance_for_big_file</span><span class="p">(</span><span class="n">orders_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">last_bid</span> <span class="p">:</span> <span class="nb">float</span><span class="p">,</span>  <span class="n">last_ask</span> <span class="p">:</span> <span class="nb">float</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">open_balance</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">orders_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">side</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">number_units</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">bid_price</span><span class="p">,</span> <span class="n">ask_price</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
            <span class="n">profit_loss</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">last_bid</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span> <span class="n">last_bid</span> <span class="p">)</span>
            <span class="n">last_ask</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">last_ask</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s1">&#39;buy&#39;</span> <span class="p">:</span>
                <span class="n">profit_loss</span> <span class="o">=</span> <span class="n">number_units</span> <span class="o">*</span> <span class="p">(</span><span class="n">last_bid</span><span class="p">)</span> <span class="o">-</span> <span class="n">number_units</span> <span class="o">*</span> <span class="n">ask_price</span>
            <span class="k">elif</span> <span class="n">side</span> <span class="o">==</span> <span class="s1">&#39;sell&#39;</span> <span class="p">:</span>
                <span class="n">profit_loss</span> <span class="o">=</span> <span class="n">number_units</span> <span class="o">*</span> <span class="n">bid_price</span> <span class="o">-</span> <span class="n">number_units</span> <span class="o">*</span> <span class="n">last_ask</span>
            <span class="n">open_balance</span> <span class="o">+=</span> <span class="n">profit_loss</span>
    <span class="k">return</span> <span class="n">open_balance</span> <span class="o">*</span> <span class="mi">12500</span>

<span class="k">def</span> <span class="nf">compute_drawdown_for_big_file</span><span class="p">(</span> <span class="n">balances</span> <span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="n">balances</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">:</span>
                <span class="n">max_drawdown</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">drawdown</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">peak</span> <span class="o">=</span> <span class="n">balances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">balance</span> <span class="ow">in</span> <span class="n">balances</span> <span class="p">:</span>
                    <span class="k">if</span> <span class="n">balance</span> <span class="o">&gt;</span> <span class="n">peak</span> <span class="p">:</span>
                        <span class="n">peak</span> <span class="o">=</span> <span class="n">balance</span>
                    <span class="n">drawdown</span> <span class="o">=</span> <span class="n">peak</span> <span class="o">-</span> <span class="n">balance</span>
                    <span class="k">if</span> <span class="n">drawdown</span> <span class="o">&gt;</span> <span class="n">max_drawdown</span><span class="p">:</span>
                        <span class="n">max_drawdown</span> <span class="o">=</span> <span class="n">drawdown</span>
                <span class="k">return</span> <span class="n">max_drawdown</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
<span class="k">def</span> <span class="nf">Register</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_in_process</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">file_in_process</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">:&#39;</span><span class="p">)</span>
        <span class="n">file_in_process</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">file_content</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_to_use</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_in_process</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">file_in_process</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
<span class="k">def</span> <span class="nf">chronological_organizer</span><span class="p">(</span><span class="n">Profile</span><span class="p">,</span> <span class="n">folder</span><span class="p">)</span> <span class="p">:</span>
  <span class="n">Profile</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;P_</span><span class="si">{</span><span class="n">Profile</span><span class="si">}</span><span class="s1">&#39;</span>
  <span class="n">archives_in_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span> <span class="n">folder</span> <span class="p">)</span><span class="c1">####</span>
  <span class="n">df</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;Archive&#39;</span><span class="p">:[</span> <span class="p">],</span> <span class="s1">&#39;Month&#39;</span><span class="p">:[</span> <span class="p">],</span><span class="s1">&#39;Year&#39;</span><span class="p">:[],</span><span class="s1">&#39;Day&#39;</span><span class="p">:[]</span> <span class="p">}</span>
  <span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="n">archives_in_folder</span> <span class="p">:</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span><span class="o">==</span> <span class="mi">19</span><span class="p">:</span>
         <span class="n">pr</span> <span class="o">=</span> <span class="n">archive</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="n">pr</span> <span class="o">=</span> <span class="n">archive</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.txt&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">pr</span> <span class="o">==</span> <span class="n">Profile</span><span class="p">:</span>
          <span class="n">rout</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span> <span class="n">folder</span><span class="p">,</span> <span class="n">archive</span> <span class="p">)</span>
          <span class="k">with</span> <span class="nb">open</span><span class="p">(</span> <span class="n">rout</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span> <span class="p">)</span> <span class="k">as</span> <span class="n">reading_analysis</span> <span class="p">:</span>
              <span class="n">lines</span> <span class="o">=</span> <span class="n">reading_analysis</span><span class="o">.</span><span class="n">readlines</span><span class="p">(</span> <span class="p">)</span>
              <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Archive&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span> <span class="o">==</span> <span class="mi">19</span> <span class="p">:</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;P_1_01_03_2023.txt&#39;</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;P_1_01_03_2023.txt&#39;</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">9</span><span class="p">])</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;P_1_01_03_2023.txt&#39;</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">14</span><span class="p">])</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;P_1_01_03_2023.txt&#39;</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;P_1_01_03_2023.txt&#39;</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;P_1_01_03_2023.txt&#39;</span><span class="p">[</span><span class="mi">11</span><span class="p">:</span><span class="mi">15</span><span class="p">])</span>
  <span class="n">df</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
  <span class="n">df</span><span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span> <span class="n">by</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span><span class="s1">&#39;Day&#39;</span><span class="p">])</span>
  <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">Archive</span>
<span class="k">def</span> <span class="nf">merge_txt_files</span><span class="p">(</span><span class="n">chronological_order</span><span class="p">,</span> <span class="n">profile</span><span class="p">,</span> <span class="n">folder</span><span class="p">)</span> <span class="p">:</span>
  <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
  <span class="n">path_of_analized_day</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Profile_</span><span class="si">{</span><span class="n">profile</span><span class="si">}</span><span class="s1">_sum.txt&#39;</span>
  <span class="n">list_for_balance</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>
  <span class="n">list_for_drawdown</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_of_analized_day</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_in_process</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">archive_name</span> <span class="ow">in</span> <span class="n">chronological_order</span> <span class="p">:</span>
        <span class="k">if</span> <span class="n">archive_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.txt&#39;</span><span class="p">):</span>
            <span class="n">complete_route</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span> <span class="n">folder</span><span class="p">,</span> <span class="n">archive_name</span> <span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span> <span class="n">complete_route</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span> <span class="p">)</span> <span class="k">as</span> <span class="n">current_day</span><span class="p">:</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="n">current_day</span><span class="o">.</span><span class="n">readlines</span><span class="p">(</span> <span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span> <span class="n">lines</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span>
                    <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">lines</span> <span class="p">:</span>
                        <span class="n">splitted</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="n">split</span><span class="p">(</span> <span class="s1">&#39;:&#39;</span> <span class="p">)</span>
                        <span class="n">list_for_balance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">splitted</span><span class="p">[</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">6</span> <span class="p">]</span> <span class="p">)</span>
                        <span class="n">P_L</span> <span class="o">=</span> <span class="n">compute_balance_for_big_file</span><span class="p">(</span><span class="n">list_for_balance</span><span class="p">,</span> <span class="n">splitted</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">splitted</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="p">)</span>
                        <span class="n">list_for_drawdown</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">P_L</span><span class="p">)</span>
                        <span class="n">drawdown</span> <span class="o">=</span> <span class="n">compute_drawdown_for_big_file</span><span class="p">(</span> <span class="n">list_for_drawdown</span> <span class="p">)</span>
                        <span class="c1">#file_in_process.writelines(f&#39;{splitted[0]}:{splitted[1]}:{splitted[2]}:{splitted[3]}:{splitted[4]}:{splitted[5]}:{P_L}:{drawdown}\n&#39;)</span>
                        <span class="n">content</span> <span class="o">+=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">splitted</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">splitted</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">splitted</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">splitted</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">splitted</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">splitted</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">P_L</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">drawdown</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
  <span class="k">return</span> <span class="n">content</span>
      <span class="c1">#place_path = os.path.join(&quot;C:\\Users\\lorenzo1\\Desktop\\trading\\Summary_folder&quot;, path_of_analized_day)</span>
      <span class="c1">#with open(place_path, &#39;w&#39;) as archive:</span>
      <span class="c1">#             archive.write(file_content(path_of_analized_day))</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id1">
<h2><strong>Objetivo general:</strong><a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>Este c√≥digo se enfoca en el procesamiento de grandes cantidades de datos de trading para calcular m√©tricas clave como el balance de la cuenta y el m√°ximo retroceso (drawdown) a lo largo del tiempo. Esto es esencial para evaluar el rendimiento de una estrategia de trading a gran escala y para tomar decisiones informadas sobre la gesti√≥n del riesgo.</p>
</section>
<section id="id2">
<h2><strong>Partes principales del c√≥digo:</strong><a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<section id="id3">
<h3><strong>Funciones auxiliares:</strong><a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>compute_balance_for_big_file: Calcula el balance de la cuenta a partir de una lista de √≥rdenes (compras y ventas) y los precios de compra (bid) y venta (ask) m√°s recientes. A diferencia de la versi√≥n anterior (compute_balance), esta funci√≥n est√° dise√±ada para manejar grandes cantidades de datos y multiplica el balance por un factor (12500) que podr√≠a representar el tama√±o del contrato.</p></li>
<li><p>compute_drawdown_for_big_file: Calcula el m√°ximo retroceso (drawdown) a partir de una lista de balances hist√≥ricos. El drawdown es la p√©rdida m√°xima desde un pico anterior en el balance, y es un indicador importante del riesgo de una estrategia.</p></li>
<li><p>Register: Registra l√≠neas de datos (posiblemente √≥rdenes u otras m√©tricas) en un archivo, agregando una nueva l√≠nea al final.</p></li>
<li><p>file_content: Lee el contenido completo de un archivo de texto.
chronological_organizer: Organiza los archivos de datos de trading en orden cronol√≥gico (por fecha), asegurando que el an√°lisis se realice en el orden correcto de las operaciones.</p></li>
<li><p>L√≥gica principal (merge_txt_files):
Itera sobre los archivos de datos de trading en orden cronol√≥gico.
Lee las l√≠neas de cada archivo, que representan las √≥rdenes de compra o venta.
Calcula el balance y el drawdown para cada orden, utilizando las funciones auxiliares mencionadas.
Acumula los datos en listas para su posterior an√°lisis o registro.</p></li>
</ul>
</section>
<section id="funcionamiento-del-calculo-de-balance-y-drawdown">
<h3><strong>Funcionamiento del c√°lculo de balance y drawdown:</strong><a class="headerlink" href="#funcionamiento-del-calculo-de-balance-y-drawdown" title="Link to this heading">#</a></h3>
<section id="compute-balance-for-big-file">
<h4><strong>compute_balance_for_big_file:</strong><a class="headerlink" href="#compute-balance-for-big-file" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Itera sobre cada orden en la lista.</p></li>
<li><p>Determina si la orden es de compra (‚Äúbuy‚Äù) o venta (‚Äúsell‚Äù).</p></li>
<li><p>Calcula la ganancia o p√©rdida de la orden multiplicando la diferencia entre el precio de ejecuci√≥n y el precio actual (bid o ask) por el n√∫mero de unidades operadas.</p></li>
<li><p>Acumula las ganancias y p√©rdidas en la variable open_balance.</p></li>
<li><p>Multiplica el balance final por un factor (12500) para ajustarlo al tama√±o del contrato.</p></li>
</ul>
</section>
<section id="compute-drawdown-for-big-file">
<h4><strong>compute_drawdown_for_big_file:</strong><a class="headerlink" href="#compute-drawdown-for-big-file" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Itera sobre la lista de balances hist√≥ricos.</p></li>
<li><p>Rastrea el pico m√°ximo alcanzado en el balance hasta el momento.</p></li>
<li><p>Calcula el retroceso (drawdown) como la diferencia entre el pico actual y el balance actual.</p></li>
<li><p>Actualiza el m√°ximo retroceso si se encuentra un nuevo valor m√°s alto.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">folder_for_summaries</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Write the path where u want to place the summary by profile : &quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">99</span><span class="p">):</span>
    <span class="n">path_of_analized_day</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Profile_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">_sum.txt&#39;</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">chronological_organizer</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span><span class="n">folder_for_results</span> <span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">merge_txt_files</span><span class="p">(</span> <span class="n">order</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">folder_for_results</span> <span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_for_summaries</span><span class="p">,</span><span class="n">path_of_analized_day</span><span class="p">),</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writing_archive</span> <span class="p">:</span>
      <span class="n">writing_archive</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>


<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    with open(os.path.join(&quot;C:\\Users\\lorenzo1\\Desktop\\trading\\Summary_folder&quot;, path_of_analized_day), &#39;w&#39;) as archive:</span>
<span class="sd">       if content is not None :</span>
<span class="sd">            archive.write(content)</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="id4">
<h2><strong>Objetivo general:</strong><a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>Esta secci√≥n de c√≥digo se encarga de resumir los resultados de trading para cada perfil individual. Recopila la informaci√≥n de las operaciones realizadas (contenida en archivos separados por d√≠a y perfil) y la consolida en un √∫nico archivo de resumen por perfil. Esto facilita el an√°lisis global del rendimiento de cada estrategia asociada a un perfil.</p>
<section id="logica-principal">
<h3><strong>L√≥gica principal:</strong><a class="headerlink" href="#logica-principal" title="Link to this heading">#</a></h3>
<p><strong>Organizaci√≥n cronol√≥gica:</strong> Para cada perfil:</p>
<ul class="simple">
<li><p>Llama a la funci√≥n chronological_organizer para obtener una lista ordenada cronol√≥gicamente de los archivos de resultados diarios de ese perfil.</p></li>
<li><p>Construye el nombre del archivo de resumen (Profile_{i}_sum.txt, donde i es el n√∫mero de perfil).</p></li>
</ul>
<p><strong>Consolidaci√≥n de resultados:</strong> Llama a la funci√≥n merge_txt_files para:</p>
<ul class="simple">
<li><p>Leer los archivos de resultados diarios en orden cronol√≥gico.</p></li>
<li><p>Consolidar la informaci√≥n relevante de cada operaci√≥n (ID, acci√≥n, cantidad, precios, balance, drawdown) en una cadena de texto (content).</p></li>
<li><p>Calcular el balance acumulado y el drawdown m√°ximo para cada operaci√≥n.</p></li>
</ul>
<p>Ejemplo de l√≠nea en un archivo de resumen:</p>
<p>0:sell:1:1.23456:1.23457:-125.00:125.00</p>
<p><strong>Donde:</strong></p>
<ul class="simple">
<li><p>0: ID de la operaci√≥n</p></li>
<li><p>sell: Acci√≥n realizada (compra o venta)</p></li>
<li><p>1: Cantidad operada</p></li>
<li><p>1.23456: Precio de compra (bid)</p></li>
<li><p>1.23457: Precio de venta (ask)</p></li>
<li><p>-125.00: Balance de la operaci√≥n</p></li>
<li><p>125.00: Drawdown m√°ximo hasta ese momento</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###############################</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span> <span class="s1">&#39;/content/drive&#39;</span> <span class="p">)</span><span class="c1">#######################</span>
<span class="n">folder</span> <span class="o">=</span> <span class="s1">&#39;/content/drive/My Drive/for_drive/summary&#39;</span> <span class="c1">#</span>
<span class="n">archives_in_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span> <span class="n">folder</span> <span class="p">)</span><span class="c1">#############</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(&quot;/content/drive&quot;, force_remount=True).
</pre></div>
</div>
</div>
</div>
<div class="math notranslate nohighlight">
\[ \text{ Drawdown and Balance over Time
}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">folder_for_summaries</span><span class="o">=</span><span class="s1">&#39;/content/drive/My Drive/for_drive/summary&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Balance&#39;</span><span class="p">:[],</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">:[]}</span>
<span class="k">with</span> <span class="nb">open</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_for_summaries</span><span class="p">,</span><span class="s1">&#39;Profile_0_sum.txt&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">reading_file</span> <span class="p">:</span>
  <span class="n">lines</span> <span class="o">=</span> <span class="n">reading_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span> <span class="p">:</span>
    <span class="n">splitted</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Balance&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">splitted</span><span class="p">[</span><span class="mi">6</span><span class="p">]))</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">splitted</span><span class="p">[</span><span class="mi">7</span><span class="p">]))</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">X</span><span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Balance&#39;</span><span class="p">]))]</span>
<span class="n">fig1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Balance&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Balance over Time&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;Balance&#39;</span><span class="p">)</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Balance&#39;</span><span class="p">)</span>

<span class="c1"># Crear el segundo gr√°fico de l√≠nea para &#39;Drawdown&#39;</span>
<span class="n">fig2</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Drawdown over Time&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar los gr√°ficos</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.10/dist-packages/ipykernel/ipkernel.py:283: DeprecationWarning:

`should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
</pre></div>
</div>
<div class="output text_html"><html>
<head><meta charset="utf-8" /></head>
<body>
    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>                <div id="0cdc514e-ede6-4613-865c-70b243550e71" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0cdc514e-ede6-4613-865c-70b243550e71")) {                    Plotly.newPlot(                        "0cdc514e-ede6-4613-865c-70b243550e71",                        [{"alignmentgroup":"True","hovertemplate":"x=%{x}\u003cbr\u003eBalance=%{marker.color}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":[-1.2499999999998623,-3.749999999999587,-7.499999999999174,-6.249999999999312,-7.499999999999174,-16.24999999999821,-8.749999999999037,-11.24999999999876,-12.499999999998623,-7.499999999999174,-8.749999999999037,-12.499999999998623,-13.749999999998487,-3.749999999999587,-4.999999999999449,-6.249999999999312,-7.499999999999174,-9.999999999998899,-11.24999999999876,-17.499999999998074,-23.749999999997385,-28.749999999996835,-32.49999999999642,-37.49999999999587,-38.74999999999573,-28.74999999999406,-29.99999999999392,-39.999999999992816,-28.74999999999406,-27.499999999994195,-28.74999999999406,-23.749999999994607,-9.999999999990571,-27.499999999988646,-24.99999999998892,18.75000000000626,37.5000000000042,61.25000000001546,27.499999999958114,28.750000000016264,46.25000000000878,56.25000000001601,26.250000000019313,53.750000000016286,52.50000000001642,49.999999999950084,48.75000000001406,46.25000000001434,45.000000000014474,48.75000000001406,45.000000000014474,13.750000000009589,45.000000000011696,-3.7499999999829337,3.7500000000162403,43.75000000001184,42.50000000001197,43.75000000001184,42.50000000001197,45.000000000011696,43.75000000001184,45.000000000011696,43.75000000001184,45.000000000011696,58.75000000001018,43.75000000001184,71.25000000000881,82.50000000000756,66.25000000000935,65.00000000000949,56.25000000002156,133.75000000001302,142.50000000001205,141.2500000000122,135.00000000001288,96.25000000001715,72.4999999999032,71.24999999990055,60.00000000000449,602.5000000000141,557.5000000000191,680.0000000000139,653.7499999998947,693.7500000000097,692.5000000000098,678.7500000000113,622.5000000000175,681.250000000011,680.0000000000111,675.0000000000117,613.7500000000184,636.2500000000159,688.7500000000102,696.2500000000093,623.7500000000174,1977.5000000000236,2005.0000000000207,2095.000000000011,2223.7500000000186,2222.500000000019,1932.5000000000064,1774.9999999999989,1811.2500000000225,1727.4999999998736,1784.9999999998645,1723.7499999998684,1807.5000000000202,1888.7500000000111,1872.500000000013,1806.2500000000202,1805.0000000000205,1676.2499999998597,1736.249999999989,1702.499999999993,1611.250000000003,1220.00000000001,1545.000000000013,1562.5000000000111,1267.5000000000048,1378.7500000000286,1399.999999999993,1301.2500000000039,1015.000000000002,1025.000000000001,1093.7499999999934,1175.000000000015,1113.7499999998274,686.2500000000049,697.5000000000036,710.0000000000023,603.750000000014,976.2500000000091,885.0000000000191,870.0000000000208,918.7500000000153,1030.0000000000032,1018.7500000000043,995.0000000000069,937.5000000000133,961.2500000000107,980.0000000000086,858.7500000000219,961.2500000000107,953.7500000000115,1027.5000000000034,965.0000000000103,866.2500000000211,926.2500000000146,896.2500000000178,983.7500000000082,892.5000000000183,980.0000000000086,877.5000000000199,921.2500000000151,940.0000000000131,930.0000000000141,918.7500000000153,883.7500000000192,857.4999999997862,870.0000000000208,493.74999999999557,508.7499999999939,612.5000000000158,321.2500000000118,415.0000000000015,235.00000000002132,413.7500000000016,396.2500000000035,425.0000000000004,326.25000000001125,237.50000000002103,255.0000000000191,306.2500000000135,174.99999999999181,282.5000000000189,268.75000000002035,250.00000000002242,232.50000000002436,266.25000000002063,176.25000000003055,156.2499999999939,-62.499999999982016,40.00000000000669,102.49999999999982,-191.24999999996783,-149.99999999997237,-71.24999999998106,-158.7499999999714,47.50000000000587,67.50000000000367,86.2500000000016,-46.24999999998381,-127.49999999997486,-86.2499999999794,-19.999999999986695,21.25000000000876,40.00000000000669,-46.24999999998381,12.500000000009726,-31.249999999985455,35.00000000000725,97.50000000000037,231.25000000003558,27.50000000001085,-11309.999999999989,-11358.749999999984,-11477.49999999997,-11414.999999999978,-11388.74999999998,-11188.750000000004,-11757.49999999994,-11899.999999999989,-11871.24999999999,-11903.749999999987,-11964.999999999982,-11997.499999999978,-12063.74999999997,-12031.249999999975,-12097.499999999967,-12233.74999999995,-12199.999999999955,4382.500000000017,4642.499999999988,4607.499999999992,4501.250000000004,4297.500000000026,4436.250000000011,4418.750000000013,4472.500000000007,4505.000000000004,4188.750000000038,4223.750000000035,4020.000000000057,4067.500000000052,4306.2500000000255,4421.250000000013,4532.5,4531.250000000001,4604.999999999993,4448.75000000001,4767.500000000064,4750.0000000000655,4880.000000000051,5111.2500000000255,5522.500000000064,5448.749999999991,5198.750000000018,5370.0,5368.75,4118.749999999677,4152.500000000059,3948.7500000000064,3527.5000000000528,3593.7500000000455,3522.500000000053,3412.5000000000655,3373.74999999967,3445.000000000059,3618.75000000004,3436.25000000006,3540.0000000000487,3647.500000000037,3646.250000000037,3442.5000000000596,3476.2500000000555,3910.0000000000077,4058.7499999999914,4173.750000000065,4097.49999999999,4057.4999999999945,4018.7499999999986,3940.0000000000073,3898.750000000012,3628.750000000042,-7901.249999999932,-8219.999999999989,-8222.499999999987,-7722.499999999946,-7678.749999999951,-7329.999999999989,-7331.249999999989,-7424.999999999979,-7741.249999999944,-7304.999999999992,-7646.2499999999545,-7979.999999999918,-7696.249999999949,-7637.499999999955,-7437.499999999977,-7307.499999999992,-7351.249999999987,-7483.749999999973,-7754.999999999943,-7799.999999999937,-7828.7499999999345,-7711.249999999947,-8217.500000000353,-7929.999999999926,-7378.749999999986,-7336.249999999992,-7337.499999999991,-8381.249999999973,-9914.999999999993,-10452.499999999935,-9773.75000000001,-9486.249999999949,-11272.499999999942,-10923.74999999998,-10789.999999999995,-10837.499999999989,-10981.249999999973,-10494.999999999918,-10346.249999999935,-10706.25000000001,-10392.499999999927,-10342.499999999933,-10238.749999999944,-10627.499999999902,-10666.250000000013,-10565.000000000413,-10466.249999999924,-11172.499999999847,-10518.749999999918,-10622.50000000002,-10702.499999999902,-10704.9999999999,-10707.4999999999,-10581.250000000427,-10477.499999999925,-10683.750000000016,-10917.49999999999,-10407.499999999933,-10376.249999999936,-10426.24999999993,-10612.49999999991,-10712.4999999999,-10432.49999999993,-10479.999999999925,-10433.74999999993,-10824.999999999996,-10541.249999999922,-10542.499999999922,-10498.749999999925,-10649.999999999909,-10609.999999999915,-16273.74999999993,-16274.99999999993,-16451.250000000007,-16834.999999999967,-16712.49999999998,-16586.249999999993,-17041.249999999945,-16234.999999999938,-16277.499999999935,-16321.249999999929,-16074.999999999956,-16788.74999999997,-16922.499999999956,-17622.499999999978,-18103.749999999927,-18141.249999999924,-18392.499999999894,-18428.749999999996,-18938.74999999994,-19334.999999999898,-18853.74999999995,-19934.99999999993,-18317.499999999913,-18498.749999999993,-18939.999999999945,-19113.749999999927,-18097.499999999935,-18051.24999999994,-17759.999999999975,-18257.49999999992,-17908.749999999956,-18044.99999999994,-18046.24999999994,-17867.49999999996,-17961.24999999995,-17724.999999999978,-17679.99999999998,-17871.24999999996,-29036.24999999991,-29137.499999999938,-29356.249999999884,-28391.25,-28661.249999999993,-26994.99999999989,-27252.5,-28453.749999999978,-28711.24999999992,-27924.999999999898,-27362.50000000001,-27986.249999999924,-27527.499999999967,-26806.249999999964,-26856.24999999995,-27157.500000000513,-27256.24999999998,-27257.499999999978,-27502.49999999994,-27503.749999999938,-27797.49999999994,-27298.74999999996,-27299.999999999956,-27001.24999999994,-26797.499999999964,-26903.749999999905,-27012.499999999938,-26958.749999999887,-27021.24999999992,-26572.49999999999,-25659.999999999938,-25713.749999999913,-26467.499999999956,-26358.749999999996,-26521.24999999993,-26687.49999999993,-27086.249999999938,-27253.749999999894,-27094.99999999994,-26543.74999999992,-26647.499999999967,-26839.999999999935,-26453.749999999985,-26697.499999999978,-26201.249999999996,-41269.999999999985,-41217.49999999996,-41438.749999999935,-40596.2499999999,-40194.99999999998,-40548.7499999999,-40129.999999999956,-39778.750000000575,-40743.74999999993,-41359.999999999985,-41792.499999999905,-41997.499999999876,-42128.749999999905,-42831.24999999996,-42832.49999999996,-43231.24999999989,-43752.49999999993,-43621.24999999994,-46287.49999999995,-45778.7499999999,-46530.000000000255,-46594.999999999956,-46401.24999999994,-46019.99999999997,-46541.250000000255,-45905.000000000255,-45531.249999999935,-45593.749999999956,-45354.99999999998,-45295.00000000026,-45656.24999999991,-45716.24999999991,-46264.99999999995,-45772.49999999991,-45831.24999999992,-45832.49999999992,-45533.74999999994,-45351.24999999998,-45412.499999999935,-45168.74999999993,-45109.99999999993,-45172.49999999993,-45111.24999999993,-45377.49999999991,-44927.499999999956,-44989.99999999995,-45069.999999999935,-46718.749999999956,-45614.99999999995,-45743.74999999992,-45354.99999999998,-45491.249999999905,-45361.24999999998,-44949.99999999995,-44741.24999999998,-46238.74999999996,-45539.999999999935,-45398.74999999998,-45330.00000000028,-45533.7499999999,-44993.74999999994,-44663.75000000033,-44867.49999999995,-44404.99999999993,-44271.24999999992,-44946.2500000003,-48857.499999999956,-49202.49999999996,-49473.74999999996,-49209.99999999996,-48496.24999999992,-48762.500000000284,-48763.75000000029,-48765.00000000029,-48833.749999999985,-48834.999999999985,-48901.24999999995,-49384.9999999999,-49103.749999999956,-49173.74999999993,-49174.99999999993,-49244.99999999996,-49667.49999999988,-48971.249999999985,-49392.49999999992,-49187.49999999992,-49118.74999999994,-49048.74999999994,-48904.99999999994,-48316.249999999905,-48392.49999999994,-48829.999999999905,-48760.000000000306,-48687.4999999999,-48013.750000000335,-47867.49999999993,-47868.74999999993,-47648.74999999994,-47649.999999999935,-47803.74999999991,-48192.49999999994,-7018.74999999994,-6787.49999999996,-7103.749999999924,-6305.000000000014,-9118.749999999874,-9786.25,-10599.999999999907,-8201.249999999987,-8254.999999999982,-9217.499999999884,-8826.249999999907,-8518.749999999947,-8067.500000000003,-7448.749999999903,-7528.749999999891,-3492.5000000006617,-4029.9999999999254,-3333.7500000000064,-2862.499999999886,-1391.2499999998731,-4137.499999999905,-3673.7499999999563,-2572.499999999907,-5363.7499999999445,-1821.2499999999811,-2829.9999999998727,-2279.999999999931,-1961.249999999966,-2352.4999999999227,-1716.2499999999927,-1539.9999999998374,-1067.4999999998865,-1236.2499999998681,-1632.4999999998272,-1548.7499999998363,-1410.0000000007315,-1495.0000000000255,-901.249999999905,-1153.749999999877,-984.9999999998956,-2279.999999999942,-2543.749999999918,-2503.74999999992,-2103.7499999999613,-2536.249999999919,-3028.749999999862,-2676.249999999901,-2948.749999999868,-2312.4999999999436,-2087.499999999963,-1289.9999999998565,-1790.0000000007062,-1291.2499999998563,77980.00000000004,77566.25000000004,77513.75000000013,77700.0000000001,77421.25000000017,77701.2500000001,77607.5000000001,76856.24999999996,75560.0000000001,75371.25000000016,74894.99999999999,74987.49999999926,75171.25000000013,74607.50000000006,14523.750000000035,15740.00000000011,16540.00000000002,15576.250000000126,14697.500000000005,14503.750000000025,15672.500000000115,16152.500000000062,16053.750000000073,16245.000000000051,16338.75000000004,16241.250000000051,16620.00000000001,16712.5,16341.25000000004,15777.500000000102,15406.250000000144,68279.99999999917,67993.74999999991,68179.99999999999,68463.75000000016,68743.75000000013,69787.50000000003,69401.24999999999,69302.50000000007,70782.50000000013,72081.25,71877.50000000003,72876.25000000007,73583.75000000006,73684.99999999997,72975.00000000012,70773.7500000001,70671.25000000015,70875.00000000003,71278.75000000009,70765.0000000001,70460.00000000019,70958.75000000012,71747.50000000003,71746.25000000003,71745.00000000004,71938.75,71586.24999999996,72134.99999999911,71830.00000000006,71931.25000000001,71930.00000000001,71928.75000000001,70881.25000000007,71333.75,71431.25000000007,71430.00000000009,70667.50000000013,71123.7500000001,70818.75000000001,70612.50000000015,70252.50000000019,70710.00000000012,71215.00000000012,71113.7500000001,70808.75000000001,70651.25000000012,71632.49999999993,71526.25000000003,70695.00000000013,70798.75000000001,70797.50000000003,70433.75000000007,70902.5000000001,41446.24999999995,41227.499999999985,41446.24999999995,39922.50000000013,40673.75000000007,40523.75000000005,40458.75000000008,40675.00000000007,39793.750000000175,40793.75000000003,39780.00000000017,38555.00000000006,38883.74999999999,38556.25000000006,39629.99999999907,40607.50000000007,39726.250000000175,37833.75000000009,34907.49999999993,30811.250000000124,27332.500000000025,33163.750000000095,33612.500000000044,33008.75000000016,30506.250000000146,30960.0000000001,31763.75,31876.249999999996,30074.99999999994,30407.499999999105,30518.75000000014,31026.250000000065,30636.250000000164,29967.499999999956,30076.249999999938,29802.499999999953,29958.749999999956,29957.49999999996,29496.250000000015,28681.25000000009,28795.00000000007,27943.75000000015,27738.749999999945,28318.750000000127,28087.499999999072,27697.499999999098,28428.750000000156,49701.25000000021,48642.49999999996,49677.500000000095,49242.50000000019,48647.49999999996,49233.75000000019,49348.750000000175,46292.49999999997,45710.00000000004,45356.250000000065,46423.74999999994,48188.75000000004,49056.249999999956,49775.000000000204,48893.75000000024,48807.49999999997,50018.75000000015,51609.999999999,50371.25000000008,50615.000000000065,49252.5000000002,48516.24999999997,48393.750000000015,50432.50000000002,49362.500000000175,47246.25000000011,48313.75000000001,48900.00000000002,49945.00000000015,52122.50000000005,52760.00000000003,52406.25000000017,52405.00000000017,52051.250000000146,52050.00000000015,51400.00000000016,51927.50000000024,51806.250000000124,51077.500000000044,51198.74999999998,49836.250000000146,49590.000000000226,48351.24999999998,49697.50000000015,50060.00000000016,48803.75000000022,48801.25000000022,48438.749999999054,49095.00000000021,49216.2500000002,-8002.49999999985,-7213.749999999937,-6583.750000000006,-7709.999999999883,-7216.249999999936,-8511.249999999794,-7598.7499999998945,-7099.999999999949,-7967.499999999854,-8218.749999999825,-9608.749999999953,-8972.500000000024,-9102.50000000001,-9868.749999999925,-8986.250000000022,-9242.499999999995,-8612.500000000064,-9378.749999999978,-9251.249999999993,-10527.499999999853,-11538.750000000022,-13197.49999999984,-13830.000000000051,-12886.249999999876,-11715.000000000005,-11966.249999999976,-10957.499999999807,-11583.750000000016,-12574.999999999905,-12326.249999999935,-13441.249999999813,-14817.499999999936,-13705.000000000062,-13206.249999999838,-13083.749999999849,-13084.999999999849,-13333.749999999822,-12398.749999999927,-12332.499999999935,-12458.74999999992,-12336.249999999933,-12778.749999999884,-12339.999999999933,-12468.749999999918,-11311.250000000045,-11185.00000000006,-11060.000000001059,-11188.750000000062,-11316.25000000005,-11445.000000000035,-10941.249999999809,-11192.50000000006,-11067.500000001066],"coloraxis":"coloraxis","pattern":{"shape":""}},"name":"","offsetgroup":"","orientation":"v","showlegend":false,"textposition":"auto","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815],"xaxis":"x","y":[-1.2499999999998623,-3.749999999999587,-7.499999999999174,-6.249999999999312,-7.499999999999174,-16.24999999999821,-8.749999999999037,-11.24999999999876,-12.499999999998623,-7.499999999999174,-8.749999999999037,-12.499999999998623,-13.749999999998487,-3.749999999999587,-4.999999999999449,-6.249999999999312,-7.499999999999174,-9.999999999998899,-11.24999999999876,-17.499999999998074,-23.749999999997385,-28.749999999996835,-32.49999999999642,-37.49999999999587,-38.74999999999573,-28.74999999999406,-29.99999999999392,-39.999999999992816,-28.74999999999406,-27.499999999994195,-28.74999999999406,-23.749999999994607,-9.999999999990571,-27.499999999988646,-24.99999999998892,18.75000000000626,37.5000000000042,61.25000000001546,27.499999999958114,28.750000000016264,46.25000000000878,56.25000000001601,26.250000000019313,53.750000000016286,52.50000000001642,49.999999999950084,48.75000000001406,46.25000000001434,45.000000000014474,48.75000000001406,45.000000000014474,13.750000000009589,45.000000000011696,-3.7499999999829337,3.7500000000162403,43.75000000001184,42.50000000001197,43.75000000001184,42.50000000001197,45.000000000011696,43.75000000001184,45.000000000011696,43.75000000001184,45.000000000011696,58.75000000001018,43.75000000001184,71.25000000000881,82.50000000000756,66.25000000000935,65.00000000000949,56.25000000002156,133.75000000001302,142.50000000001205,141.2500000000122,135.00000000001288,96.25000000001715,72.4999999999032,71.24999999990055,60.00000000000449,602.5000000000141,557.5000000000191,680.0000000000139,653.7499999998947,693.7500000000097,692.5000000000098,678.7500000000113,622.5000000000175,681.250000000011,680.0000000000111,675.0000000000117,613.7500000000184,636.2500000000159,688.7500000000102,696.2500000000093,623.7500000000174,1977.5000000000236,2005.0000000000207,2095.000000000011,2223.7500000000186,2222.500000000019,1932.5000000000064,1774.9999999999989,1811.2500000000225,1727.4999999998736,1784.9999999998645,1723.7499999998684,1807.5000000000202,1888.7500000000111,1872.500000000013,1806.2500000000202,1805.0000000000205,1676.2499999998597,1736.249999999989,1702.499999999993,1611.250000000003,1220.00000000001,1545.000000000013,1562.5000000000111,1267.5000000000048,1378.7500000000286,1399.999999999993,1301.2500000000039,1015.000000000002,1025.000000000001,1093.7499999999934,1175.000000000015,1113.7499999998274,686.2500000000049,697.5000000000036,710.0000000000023,603.750000000014,976.2500000000091,885.0000000000191,870.0000000000208,918.7500000000153,1030.0000000000032,1018.7500000000043,995.0000000000069,937.5000000000133,961.2500000000107,980.0000000000086,858.7500000000219,961.2500000000107,953.7500000000115,1027.5000000000034,965.0000000000103,866.2500000000211,926.2500000000146,896.2500000000178,983.7500000000082,892.5000000000183,980.0000000000086,877.5000000000199,921.2500000000151,940.0000000000131,930.0000000000141,918.7500000000153,883.7500000000192,857.4999999997862,870.0000000000208,493.74999999999557,508.7499999999939,612.5000000000158,321.2500000000118,415.0000000000015,235.00000000002132,413.7500000000016,396.2500000000035,425.0000000000004,326.25000000001125,237.50000000002103,255.0000000000191,306.2500000000135,174.99999999999181,282.5000000000189,268.75000000002035,250.00000000002242,232.50000000002436,266.25000000002063,176.25000000003055,156.2499999999939,-62.499999999982016,40.00000000000669,102.49999999999982,-191.24999999996783,-149.99999999997237,-71.24999999998106,-158.7499999999714,47.50000000000587,67.50000000000367,86.2500000000016,-46.24999999998381,-127.49999999997486,-86.2499999999794,-19.999999999986695,21.25000000000876,40.00000000000669,-46.24999999998381,12.500000000009726,-31.249999999985455,35.00000000000725,97.50000000000037,231.25000000003558,27.50000000001085,-11309.999999999989,-11358.749999999984,-11477.49999999997,-11414.999999999978,-11388.74999999998,-11188.750000000004,-11757.49999999994,-11899.999999999989,-11871.24999999999,-11903.749999999987,-11964.999999999982,-11997.499999999978,-12063.74999999997,-12031.249999999975,-12097.499999999967,-12233.74999999995,-12199.999999999955,4382.500000000017,4642.499999999988,4607.499999999992,4501.250000000004,4297.500000000026,4436.250000000011,4418.750000000013,4472.500000000007,4505.000000000004,4188.750000000038,4223.750000000035,4020.000000000057,4067.500000000052,4306.2500000000255,4421.250000000013,4532.5,4531.250000000001,4604.999999999993,4448.75000000001,4767.500000000064,4750.0000000000655,4880.000000000051,5111.2500000000255,5522.500000000064,5448.749999999991,5198.750000000018,5370.0,5368.75,4118.749999999677,4152.500000000059,3948.7500000000064,3527.5000000000528,3593.7500000000455,3522.500000000053,3412.5000000000655,3373.74999999967,3445.000000000059,3618.75000000004,3436.25000000006,3540.0000000000487,3647.500000000037,3646.250000000037,3442.5000000000596,3476.2500000000555,3910.0000000000077,4058.7499999999914,4173.750000000065,4097.49999999999,4057.4999999999945,4018.7499999999986,3940.0000000000073,3898.750000000012,3628.750000000042,-7901.249999999932,-8219.999999999989,-8222.499999999987,-7722.499999999946,-7678.749999999951,-7329.999999999989,-7331.249999999989,-7424.999999999979,-7741.249999999944,-7304.999999999992,-7646.2499999999545,-7979.999999999918,-7696.249999999949,-7637.499999999955,-7437.499999999977,-7307.499999999992,-7351.249999999987,-7483.749999999973,-7754.999999999943,-7799.999999999937,-7828.7499999999345,-7711.249999999947,-8217.500000000353,-7929.999999999926,-7378.749999999986,-7336.249999999992,-7337.499999999991,-8381.249999999973,-9914.999999999993,-10452.499999999935,-9773.75000000001,-9486.249999999949,-11272.499999999942,-10923.74999999998,-10789.999999999995,-10837.499999999989,-10981.249999999973,-10494.999999999918,-10346.249999999935,-10706.25000000001,-10392.499999999927,-10342.499999999933,-10238.749999999944,-10627.499999999902,-10666.250000000013,-10565.000000000413,-10466.249999999924,-11172.499999999847,-10518.749999999918,-10622.50000000002,-10702.499999999902,-10704.9999999999,-10707.4999999999,-10581.250000000427,-10477.499999999925,-10683.750000000016,-10917.49999999999,-10407.499999999933,-10376.249999999936,-10426.24999999993,-10612.49999999991,-10712.4999999999,-10432.49999999993,-10479.999999999925,-10433.74999999993,-10824.999999999996,-10541.249999999922,-10542.499999999922,-10498.749999999925,-10649.999999999909,-10609.999999999915,-16273.74999999993,-16274.99999999993,-16451.250000000007,-16834.999999999967,-16712.49999999998,-16586.249999999993,-17041.249999999945,-16234.999999999938,-16277.499999999935,-16321.249999999929,-16074.999999999956,-16788.74999999997,-16922.499999999956,-17622.499999999978,-18103.749999999927,-18141.249999999924,-18392.499999999894,-18428.749999999996,-18938.74999999994,-19334.999999999898,-18853.74999999995,-19934.99999999993,-18317.499999999913,-18498.749999999993,-18939.999999999945,-19113.749999999927,-18097.499999999935,-18051.24999999994,-17759.999999999975,-18257.49999999992,-17908.749999999956,-18044.99999999994,-18046.24999999994,-17867.49999999996,-17961.24999999995,-17724.999999999978,-17679.99999999998,-17871.24999999996,-29036.24999999991,-29137.499999999938,-29356.249999999884,-28391.25,-28661.249999999993,-26994.99999999989,-27252.5,-28453.749999999978,-28711.24999999992,-27924.999999999898,-27362.50000000001,-27986.249999999924,-27527.499999999967,-26806.249999999964,-26856.24999999995,-27157.500000000513,-27256.24999999998,-27257.499999999978,-27502.49999999994,-27503.749999999938,-27797.49999999994,-27298.74999999996,-27299.999999999956,-27001.24999999994,-26797.499999999964,-26903.749999999905,-27012.499999999938,-26958.749999999887,-27021.24999999992,-26572.49999999999,-25659.999999999938,-25713.749999999913,-26467.499999999956,-26358.749999999996,-26521.24999999993,-26687.49999999993,-27086.249999999938,-27253.749999999894,-27094.99999999994,-26543.74999999992,-26647.499999999967,-26839.999999999935,-26453.749999999985,-26697.499999999978,-26201.249999999996,-41269.999999999985,-41217.49999999996,-41438.749999999935,-40596.2499999999,-40194.99999999998,-40548.7499999999,-40129.999999999956,-39778.750000000575,-40743.74999999993,-41359.999999999985,-41792.499999999905,-41997.499999999876,-42128.749999999905,-42831.24999999996,-42832.49999999996,-43231.24999999989,-43752.49999999993,-43621.24999999994,-46287.49999999995,-45778.7499999999,-46530.000000000255,-46594.999999999956,-46401.24999999994,-46019.99999999997,-46541.250000000255,-45905.000000000255,-45531.249999999935,-45593.749999999956,-45354.99999999998,-45295.00000000026,-45656.24999999991,-45716.24999999991,-46264.99999999995,-45772.49999999991,-45831.24999999992,-45832.49999999992,-45533.74999999994,-45351.24999999998,-45412.499999999935,-45168.74999999993,-45109.99999999993,-45172.49999999993,-45111.24999999993,-45377.49999999991,-44927.499999999956,-44989.99999999995,-45069.999999999935,-46718.749999999956,-45614.99999999995,-45743.74999999992,-45354.99999999998,-45491.249999999905,-45361.24999999998,-44949.99999999995,-44741.24999999998,-46238.74999999996,-45539.999999999935,-45398.74999999998,-45330.00000000028,-45533.7499999999,-44993.74999999994,-44663.75000000033,-44867.49999999995,-44404.99999999993,-44271.24999999992,-44946.2500000003,-48857.499999999956,-49202.49999999996,-49473.74999999996,-49209.99999999996,-48496.24999999992,-48762.500000000284,-48763.75000000029,-48765.00000000029,-48833.749999999985,-48834.999999999985,-48901.24999999995,-49384.9999999999,-49103.749999999956,-49173.74999999993,-49174.99999999993,-49244.99999999996,-49667.49999999988,-48971.249999999985,-49392.49999999992,-49187.49999999992,-49118.74999999994,-49048.74999999994,-48904.99999999994,-48316.249999999905,-48392.49999999994,-48829.999999999905,-48760.000000000306,-48687.4999999999,-48013.750000000335,-47867.49999999993,-47868.74999999993,-47648.74999999994,-47649.999999999935,-47803.74999999991,-48192.49999999994,-7018.74999999994,-6787.49999999996,-7103.749999999924,-6305.000000000014,-9118.749999999874,-9786.25,-10599.999999999907,-8201.249999999987,-8254.999999999982,-9217.499999999884,-8826.249999999907,-8518.749999999947,-8067.500000000003,-7448.749999999903,-7528.749999999891,-3492.5000000006617,-4029.9999999999254,-3333.7500000000064,-2862.499999999886,-1391.2499999998731,-4137.499999999905,-3673.7499999999563,-2572.499999999907,-5363.7499999999445,-1821.2499999999811,-2829.9999999998727,-2279.999999999931,-1961.249999999966,-2352.4999999999227,-1716.2499999999927,-1539.9999999998374,-1067.4999999998865,-1236.2499999998681,-1632.4999999998272,-1548.7499999998363,-1410.0000000007315,-1495.0000000000255,-901.249999999905,-1153.749999999877,-984.9999999998956,-2279.999999999942,-2543.749999999918,-2503.74999999992,-2103.7499999999613,-2536.249999999919,-3028.749999999862,-2676.249999999901,-2948.749999999868,-2312.4999999999436,-2087.499999999963,-1289.9999999998565,-1790.0000000007062,-1291.2499999998563,77980.00000000004,77566.25000000004,77513.75000000013,77700.0000000001,77421.25000000017,77701.2500000001,77607.5000000001,76856.24999999996,75560.0000000001,75371.25000000016,74894.99999999999,74987.49999999926,75171.25000000013,74607.50000000006,14523.750000000035,15740.00000000011,16540.00000000002,15576.250000000126,14697.500000000005,14503.750000000025,15672.500000000115,16152.500000000062,16053.750000000073,16245.000000000051,16338.75000000004,16241.250000000051,16620.00000000001,16712.5,16341.25000000004,15777.500000000102,15406.250000000144,68279.99999999917,67993.74999999991,68179.99999999999,68463.75000000016,68743.75000000013,69787.50000000003,69401.24999999999,69302.50000000007,70782.50000000013,72081.25,71877.50000000003,72876.25000000007,73583.75000000006,73684.99999999997,72975.00000000012,70773.7500000001,70671.25000000015,70875.00000000003,71278.75000000009,70765.0000000001,70460.00000000019,70958.75000000012,71747.50000000003,71746.25000000003,71745.00000000004,71938.75,71586.24999999996,72134.99999999911,71830.00000000006,71931.25000000001,71930.00000000001,71928.75000000001,70881.25000000007,71333.75,71431.25000000007,71430.00000000009,70667.50000000013,71123.7500000001,70818.75000000001,70612.50000000015,70252.50000000019,70710.00000000012,71215.00000000012,71113.7500000001,70808.75000000001,70651.25000000012,71632.49999999993,71526.25000000003,70695.00000000013,70798.75000000001,70797.50000000003,70433.75000000007,70902.5000000001,41446.24999999995,41227.499999999985,41446.24999999995,39922.50000000013,40673.75000000007,40523.75000000005,40458.75000000008,40675.00000000007,39793.750000000175,40793.75000000003,39780.00000000017,38555.00000000006,38883.74999999999,38556.25000000006,39629.99999999907,40607.50000000007,39726.250000000175,37833.75000000009,34907.49999999993,30811.250000000124,27332.500000000025,33163.750000000095,33612.500000000044,33008.75000000016,30506.250000000146,30960.0000000001,31763.75,31876.249999999996,30074.99999999994,30407.499999999105,30518.75000000014,31026.250000000065,30636.250000000164,29967.499999999956,30076.249999999938,29802.499999999953,29958.749999999956,29957.49999999996,29496.250000000015,28681.25000000009,28795.00000000007,27943.75000000015,27738.749999999945,28318.750000000127,28087.499999999072,27697.499999999098,28428.750000000156,49701.25000000021,48642.49999999996,49677.500000000095,49242.50000000019,48647.49999999996,49233.75000000019,49348.750000000175,46292.49999999997,45710.00000000004,45356.250000000065,46423.74999999994,48188.75000000004,49056.249999999956,49775.000000000204,48893.75000000024,48807.49999999997,50018.75000000015,51609.999999999,50371.25000000008,50615.000000000065,49252.5000000002,48516.24999999997,48393.750000000015,50432.50000000002,49362.500000000175,47246.25000000011,48313.75000000001,48900.00000000002,49945.00000000015,52122.50000000005,52760.00000000003,52406.25000000017,52405.00000000017,52051.250000000146,52050.00000000015,51400.00000000016,51927.50000000024,51806.250000000124,51077.500000000044,51198.74999999998,49836.250000000146,49590.000000000226,48351.24999999998,49697.50000000015,50060.00000000016,48803.75000000022,48801.25000000022,48438.749999999054,49095.00000000021,49216.2500000002,-8002.49999999985,-7213.749999999937,-6583.750000000006,-7709.999999999883,-7216.249999999936,-8511.249999999794,-7598.7499999998945,-7099.999999999949,-7967.499999999854,-8218.749999999825,-9608.749999999953,-8972.500000000024,-9102.50000000001,-9868.749999999925,-8986.250000000022,-9242.499999999995,-8612.500000000064,-9378.749999999978,-9251.249999999993,-10527.499999999853,-11538.750000000022,-13197.49999999984,-13830.000000000051,-12886.249999999876,-11715.000000000005,-11966.249999999976,-10957.499999999807,-11583.750000000016,-12574.999999999905,-12326.249999999935,-13441.249999999813,-14817.499999999936,-13705.000000000062,-13206.249999999838,-13083.749999999849,-13084.999999999849,-13333.749999999822,-12398.749999999927,-12332.499999999935,-12458.74999999992,-12336.249999999933,-12778.749999999884,-12339.999999999933,-12468.749999999918,-11311.250000000045,-11185.00000000006,-11060.000000001059,-11188.750000000062,-11316.25000000005,-11445.000000000035,-10941.249999999809,-11192.50000000006,-11067.500000001066],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Time"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Balance"}},"coloraxis":{"colorbar":{"title":{"text":"Balance"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"title":{"text":"Balance over Time"},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('0cdc514e-ede6-4613-865c-70b243550e71');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>
</body>
</html></div><div class="output text_html"><html>
<head><meta charset="utf-8" /></head>
<body>
    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>                <div id="078cdd62-638a-4b70-8bd0-6606c8bc0a5d" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("078cdd62-638a-4b70-8bd0-6606c8bc0a5d")) {                    Plotly.newPlot(                        "078cdd62-638a-4b70-8bd0-6606c8bc0a5d",                        [{"alignmentgroup":"True","hovertemplate":"x=%{x}\u003cbr\u003eDrawdown=%{marker.color}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":[0.0,2.4999999999997247,6.249999999999312,6.249999999999312,6.249999999999312,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,16.249999999998213,22.499999999997524,27.499999999996973,31.249999999996557,36.24999999999601,37.499999999995865,37.499999999995865,37.499999999995865,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,47.50000000000587,47.50000000000587,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,70.00000000010886,71.2500000001115,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,291.2500000000123,448.7500000000198,448.7500000000198,496.25000000014506,496.25000000014506,500.0000000001503,500.0000000001503,500.0000000001503,500.0000000001503,500.0000000001503,500.0000000001503,547.5000000001589,547.5000000001589,547.5000000001589,612.5000000000157,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1208.7500000000166,1208.7500000000166,1208.7500000000166,1208.7500000000166,1208.7500000000166,1537.5000000000136,1537.5000000000136,1537.5000000000136,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1730.0000000000232,1730.0000000000232,1730.0000000000232,1902.5000000000068,1902.5000000000068,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2067.5000000000246,2286.2500000000005,2286.2500000000005,2286.2500000000005,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,13533.750000000007,13582.500000000002,13701.249999999989,13701.249999999989,13701.249999999989,13701.249999999989,13981.249999999958,14123.750000000007,14123.750000000007,14127.500000000005,14188.75,14221.249999999996,14287.499999999989,14287.499999999989,14321.249999999985,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,15437.500000000056,15974.999999999998,15974.999999999998,15974.999999999998,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,21796.249999999993,21797.499999999993,21973.750000000073,22357.50000000003,22357.50000000003,22357.50000000003,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,23145.000000000044,23626.249999999993,23663.749999999985,23914.999999999956,23951.25000000006,24461.250000000007,24857.499999999964,24857.499999999964,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,34558.74999999997,34660.0,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,46792.50000000005,46792.50000000005,46961.25,46961.25,46961.25,46961.25,46961.25,46961.25,46961.25,46961.25,47314.99999999997,47519.99999999994,47651.24999999997,48353.75000000003,48355.00000000003,48753.749999999956,49274.99999999999,49274.99999999999,51810.000000000015,51810.000000000015,52052.50000000032,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,54380.00000000002,54725.00000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,63456.25000000001,63456.25000000001,63456.25000000001,63456.25000000001,63456.25000000001,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,85982.4999999999,85982.4999999999,85982.4999999999,85982.4999999999,85982.4999999999,86491.24999999984,86491.24999999984,86491.24999999984,86491.24999999984,86491.24999999984,87588.75,87588.75,87588.75,87848.74999999997,87848.74999999997,87848.74999999997,87848.74999999997,87848.74999999997,87848.74999999997,88507.4999999999,89518.75000000006,91177.49999999988,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999],"coloraxis":"coloraxis","pattern":{"shape":""}},"name":"","offsetgroup":"","orientation":"v","showlegend":false,"textposition":"auto","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815],"xaxis":"x","y":[0.0,2.4999999999997247,6.249999999999312,6.249999999999312,6.249999999999312,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,14.999999999998348,16.249999999998213,22.499999999997524,27.499999999996973,31.249999999996557,36.24999999999601,37.499999999995865,37.499999999995865,37.499999999995865,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,38.74999999999295,47.50000000000587,47.50000000000587,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,64.9999999999984,70.00000000010886,71.2500000001115,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,82.50000000000756,291.2500000000123,448.7500000000198,448.7500000000198,496.25000000014506,496.25000000014506,500.0000000001503,500.0000000001503,500.0000000001503,500.0000000001503,500.0000000001503,500.0000000001503,547.5000000001589,547.5000000001589,547.5000000001589,612.5000000000157,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1003.7500000000086,1208.7500000000166,1208.7500000000166,1208.7500000000166,1208.7500000000166,1208.7500000000166,1537.5000000000136,1537.5000000000136,1537.5000000000136,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1620.0000000000045,1730.0000000000232,1730.0000000000232,1730.0000000000232,1902.5000000000068,1902.5000000000068,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,1988.7499999999973,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2048.750000000027,2067.5000000000246,2286.2500000000005,2286.2500000000005,2286.2500000000005,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,2414.9999999999864,13533.750000000007,13582.500000000002,13701.249999999989,13701.249999999989,13701.249999999989,13701.249999999989,13981.249999999958,14123.750000000007,14123.750000000007,14127.500000000005,14188.75,14221.249999999996,14287.499999999989,14287.499999999989,14321.249999999985,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,14457.499999999969,15437.500000000056,15974.999999999998,15974.999999999998,15974.999999999998,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,16795.000000000007,21796.249999999993,21797.499999999993,21973.750000000073,22357.50000000003,22357.50000000003,22357.50000000003,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,22563.750000000007,23145.000000000044,23626.249999999993,23663.749999999985,23914.999999999956,23951.25000000006,24461.250000000007,24857.499999999964,24857.499999999964,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,25457.499999999993,34558.74999999997,34660.0,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,34878.74999999995,46792.50000000005,46792.50000000005,46961.25,46961.25,46961.25,46961.25,46961.25,46961.25,46961.25,46961.25,47314.99999999997,47519.99999999994,47651.24999999997,48353.75000000003,48355.00000000003,48753.749999999956,49274.99999999999,49274.99999999999,51810.000000000015,51810.000000000015,52052.50000000032,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52117.50000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,52241.25000000002,54380.00000000002,54725.00000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,54996.25000000003,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,55189.99999999995,63456.25000000001,63456.25000000001,63456.25000000001,63456.25000000001,63456.25000000001,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,63476.250000000015,85982.4999999999,85982.4999999999,85982.4999999999,85982.4999999999,85982.4999999999,86491.24999999984,86491.24999999984,86491.24999999984,86491.24999999984,86491.24999999984,87588.75,87588.75,87588.75,87848.74999999997,87848.74999999997,87848.74999999997,87848.74999999997,87848.74999999997,87848.74999999997,88507.4999999999,89518.75000000006,91177.49999999988,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,91810.00000000009,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999,92797.49999999999],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Time"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Drawdown"}},"coloraxis":{"colorbar":{"title":{"text":"Drawdown"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"title":{"text":"Drawdown over Time"},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('078cdd62-638a-4b70-8bd0-6606c8bc0a5d');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>
</body>
</html></div></div>
</div>
</section>
<section id="primer-grafica">
<h3>Primer grafica<a class="headerlink" href="#primer-grafica" title="Link to this heading">#</a></h3>
<p><strong>Per√≠odo Inicial (0 a 100):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El saldo se mantiene cercano al nivel cero con peque√±as fluctuaciones.</p></li>
<li><p>Interpretaci√≥n: Durante este intervalo, el algoritmo opera principalmente en un balance bajo. Las peque√±as variaciones sugieren que las decisiones de compra y venta no generan cambios significativos en el saldo, indicando posiblemente una baja volatilidad o una ineficacia en las estrategias a corto plazo.</p></li>
</ul>
<p><strong>Primer Descenso Notable (100 a 300):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El saldo muestra una tendencia negativa, cayendo hasta alrededor de -20k.</p></li>
<li><p>Interpretaci√≥n: En esta fase, el algoritmo sigue operando en un balance bajo, pero con resultados negativos acumulados. Esto puede sugerir que las condiciones de mercado adversas afectan negativamente las operaciones a corto plazo o que las estrategias de corto plazo necesitan ajustes.</p></li>
</ul>
<p><strong>Estabilizaci√≥n y Nueva Ca√≠da (300 a 500):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: Tras una breve estabilizaci√≥n, el saldo contin√∫a descendiendo hasta cerca de -40k.</p></li>
<li><p>Interpretaci√≥n: La operaci√≥n sigue predominantemente en un balance bajo. La estabilizaci√≥n breve indica una pausa en las p√©rdidas, pero la posterior ca√≠da sugiere que el algoritmo no logra adaptarse adecuadamente a las condiciones de mercado en este per√≠odo.</p></li>
</ul>
<p><strong>Recuperaci√≥n Significativa (500 a 700):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: A partir del punto 500, el saldo se recupera de forma significativa, alcanzando hasta 80k.</p></li>
<li><p>Interpretaci√≥n: Esta recuperaci√≥n est√° asociada con un cambio a operaciones en un balance alto. La estrategia parece ser m√°s efectiva en estos periodos m√°s largos, lo que resulta en ganancias r√°pidas y sostenidas. Este cambio de perfil sugiere una mejor adaptaci√≥n del algoritmo a las condiciones de mercado a largo plazo.</p></li>
</ul>
<p><strong>Per√≠odo de Alta Volatilidad (600 a 700):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: Grandes oscilaciones en el saldo, con variaciones de colores entre amarillo y naranja.</p></li>
<li><p>Interpretaci√≥n: Este per√≠odo indica alta volatilidad en los resultados, reflejando un mercado altamente fluctuante o un trading agresivo en el balance alto. El algoritmo parece estar ajustando sus decisiones en respuesta a r√°pidas variaciones del mercado, resultando en significativas fluctuaciones del saldo.</p></li>
</ul>
<p><strong>Correcci√≥n Final y Estabilidad (700 en adelante):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El saldo desciende y se estabiliza alrededor del nivel cero.</p></li>
<li><p>Interpretaci√≥n: Hacia el final del gr√°fico, el saldo se estabiliza nuevamente, pero con peque√±as oscilaciones negativas. Esto puede ser una fase de correcci√≥n despu√©s de la alta volatilidad previa, donde el algoritmo ajusta sus estrategias posiblemente regresando a balance bajo o adoptando una postura m√°s conservadora.</p></li>
</ul>
</section>
<section id="segunda-grafica">
<h3>Segunda grafica<a class="headerlink" href="#segunda-grafica" title="Link to this heading">#</a></h3>
<p><strong>Per√≠odo Inicial (0 a 100):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El drawdown se mantiene cerca de cero, indicando muy pocas p√©rdidas.</p></li>
<li><p>Interpretaci√≥n: En este intervalo, el algoritmo opera principalmente en un balance bajo. La estabilidad cercana a cero sugiere que las p√©rdidas son m√≠nimas, posiblemente debido a condiciones de mercado favorables o una estrategia eficaz a corto plazo.</p></li>
</ul>
<p><strong>Incremento en el Drawdown (100 a 300):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El drawdown empieza a aumentar gradualmente, alcanzando aproximadamente 20k.</p></li>
<li><p>Interpretaci√≥n: Esta fase indica un incremento en las p√©rdidas acumuladas. El algoritmo sigue operando en un balance bajo, pero con resultados negativos. Esto puede reflejar una estrategia menos efectiva en estas condiciones de mercado o un aumento en la volatilidad del mercado que impacta negativamente las operaciones a corto plazo.</p></li>
</ul>
<p><strong>Aumento Continuo del Drawdown (300 a 500):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El drawdown contin√∫a increment√°ndose de manera m√°s pronunciada, llegando hasta aproximadamente 40k.</p></li>
<li><p>Interpretaci√≥n: La operaci√≥n sigue en un balance bajo, con un continuo incremento en las p√©rdidas acumuladas. Esto sugiere que el algoritmo no est√° adapt√°ndose adecuadamente a las condiciones de mercado en este per√≠odo, resultando en un drawdown significativo.</p></li>
</ul>
<p><strong>Drawdown M√°ximo y Recuperaci√≥n Parcial (500 a 700):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El drawdown alcanza niveles m√°ximos, superando los 80k.</p></li>
<li><p>Interpretaci√≥n: Este per√≠odo muestra un cambio a operaciones con un balance alto, aunque con un drawdown elevado. Las p√©rdidas acumuladas son significativas, indicando que, a pesar de cambiar la estrategia a largo plazo, el algoritmo sigue experimentando p√©rdidas considerables.</p></li>
</ul>
<p><strong>Per√≠odo de Alta Volatilidad en Drawdown (600 a 700):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El drawdown se estabiliza pero en un nivel alto, con fluctuaciones menores.</p></li>
<li><p>Interpretaci√≥n: Aunque el algoritmo sigue operando con un balance alto, hay fluctuaciones menores que indican periodos de recuperaci√≥n parcial seguidos de nuevas ca√≠das. Esto puede reflejar condiciones de mercado vol√°tiles donde las estrategias de largo plazo a√∫n est√°n enfrentando dificultades para recuperar el saldo perdido.</p></li>
</ul>
<p><strong>Reducci√≥n y Estabilizaci√≥n del Drawdown (700 en adelante):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El drawdown empieza a reducirse y se estabiliza en un nivel m√°s bajo.</p></li>
<li><p>Interpretaci√≥n: Hacia el final del gr√°fico, el algoritmo parece ajustar sus estrategias, logrando reducir el drawdown. Esto sugiere una mejora en la efectividad del algoritmo, posiblemente debido a una combinaci√≥n de ajustes en la estrategia y condiciones de mercado m√°s favorables.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Profile&#39;</span><span class="p">:[],</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">:[],</span><span class="s1">&#39;Balance&#39;</span><span class="p">:[]}</span>
<span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="n">archives_in_folder</span> <span class="p">:</span>
  <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.txt&#39;</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">complete_route</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span><span class="n">archive</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">complete_route</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reading</span> <span class="p">:</span>
      <span class="n">all_list</span> <span class="o">=</span> <span class="n">reading</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span>
        <span class="n">last_line_splitted</span> <span class="o">=</span> <span class="n">all_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span><span class="o">==</span><span class="mi">17</span> <span class="p">:</span>
          <span class="n">profile</span> <span class="o">=</span> <span class="n">archive</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
        <span class="k">else</span> <span class="p">:</span>
          <span class="n">profile</span> <span class="o">=</span> <span class="n">archive</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Profile&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">profile</span><span class="p">))</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Balance&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">last_line_splitted</span><span class="p">[</span><span class="mi">6</span><span class="p">]))</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">last_line_splitted</span><span class="p">[</span><span class="mi">7</span><span class="p">]))</span>
      <span class="k">else</span> <span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">all_list</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;Profile&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">85</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-35fefd9a-21bc-49b6-9d14-ac8c6d29c9a6" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Profile</th>
      <th>Drawdown</th>
      <th>Balance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>92797.50</td>
      <td>-11067.50</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1</td>
      <td>57595.00</td>
      <td>-11545.00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>54331.25</td>
      <td>-15175.00</td>
    </tr>
    <tr>
      <th>0</th>
      <td>3</td>
      <td>40846.25</td>
      <td>-16883.75</td>
    </tr>
    <tr>
      <th>7</th>
      <td>4</td>
      <td>40782.50</td>
      <td>-11286.25</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>93</th>
      <td>80</td>
      <td>4275.00</td>
      <td>1885.00</td>
    </tr>
    <tr>
      <th>98</th>
      <td>81</td>
      <td>448.75</td>
      <td>-450.00</td>
    </tr>
    <tr>
      <th>96</th>
      <td>82</td>
      <td>1328.75</td>
      <td>101.25</td>
    </tr>
    <tr>
      <th>86</th>
      <td>83</td>
      <td>2166.25</td>
      <td>2942.50</td>
    </tr>
    <tr>
      <th>89</th>
      <td>84</td>
      <td>3373.75</td>
      <td>2402.50</td>
    </tr>
  </tbody>
</table>
<p>85 rows √ó 3 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-35fefd9a-21bc-49b6-9d14-ac8c6d29c9a6')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-35fefd9a-21bc-49b6-9d14-ac8c6d29c9a6 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-35fefd9a-21bc-49b6-9d14-ac8c6d29c9a6');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-f93a5751-4dab-4e75-9a06-e4e407cc1e8d">
  <button class="colab-df-quickchart" onclick="quickchart('df-f93a5751-4dab-4e75-9a06-e4e407cc1e8d')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-f93a5751-4dab-4e75-9a06-e4e407cc1e8d button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="math notranslate nohighlight">
\[
\text{(Drawdown vs Balance) by Profile}
\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                 <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Balance&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Drawdown&quot;</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Profile&quot;</span><span class="p">,</span>
                 <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Profile&quot;</span>
                 <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Drawdown x Balance x Profile&#39;</span><span class="p">)</span>
<span class="n">highlighted_point</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Balance&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Balance&#39;</span><span class="p">])],</span>  <span class="c1"># Ejemplo de coordenada x</span>
    <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">])],</span>  <span class="c1"># Ejemplo de coordenada y</span>
    <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Punto Destacado&quot;</span><span class="p">],</span>  <span class="c1"># Texto para el hover</span>
    <span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;star&quot;</span><span class="p">}</span>
<span class="p">}</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
    <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">highlighted_point</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">highlighted_point</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span>
        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers+text&#39;</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">highlighted_point</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span>
        <span class="n">textposition</span><span class="o">=</span><span class="s1">&#39;top center&#39;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="n">highlighted_point</span><span class="p">[</span><span class="s2">&quot;marker&quot;</span><span class="p">],</span>
        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Punto Destacado&#39;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">X</span><span class="o">=</span> <span class="nb">sum</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Balance&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Balance&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">Y</span><span class="o">=</span> <span class="nb">sum</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Drawdown&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;centroide X:</span><span class="si">{</span><span class="n">X</span><span class="si">}</span><span class="s1">, Y:</span><span class="si">{</span><span class="n">Y</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>centroide X:1316.95707070706, Y:10535.239898989897
</pre></div>
</div>
<div class="output text_html"><html>
<head><meta charset="utf-8" /></head>
<body>
    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>                <div id="68bcb01d-8008-45b2-8ff5-366acf7a6440" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("68bcb01d-8008-45b2-8ff5-366acf7a6440")) {                    Plotly.newPlot(                        "68bcb01d-8008-45b2-8ff5-366acf7a6440",                        [{"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eBalance=%{x}\u003cbr\u003eDrawdown=%{y}\u003cbr\u003eProfile=%{marker.color}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":[0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,21.0,22.0,23.0,24.0,25.0,26.0,27.0,28.0,29.0,30.0,31.0,32.0,33.0,34.0,35.0,36.0,37.0,38.0,39.0,40.0,41.0,42.0,43.0,44.0,45.0,46.0,47.0,48.0,49.0,50.0,51.0,52.0,53.0,54.0,55.0,56.0,57.0,58.0,59.0,60.0,61.0,62.0,63.0,64.0,65.0,66.0,67.0,68.0,69.0,70.0,71.0,72.0,73.0,74.0,75.0,76.0,77.0,78.0,79.0,80.0,81.0,82.0,83.0,84.0,85.0,86.0,87.0,88.0,89.0,90.0,91.0,92.0,93.0,94.0,95.0,96.0,97.0,98.0],"legendgroup":"","marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98],"coloraxis":"coloraxis","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[-11067.500000001066,-11544.999999999864,-15175.000000000344,-16883.74999999994,-11286.249999999909,-9587.499999999916,-6366.250000000016,-1723.7500000000198,-2874.999999999958,-9142.500000000025,1259.9999999999777,-9247.499999999996,-2696.250000000021,-8078.750000000011,-2.4999999999567035,-6167.499999999993,-2791.2500000000186,7773.750000000021,2227.499999999999,-2616.250000000041,5290.0000000000055,4005.00000000001,6042.500000000005,7697.500000000023,6204.999999999988,6248.749999999984,6245.00000000001,3126.250000000011,8338.749999999993,9157.499999999989,10079.999999999996,3097.5000000000114,7615.000000000009,4963.74999999996,6902.500000000023,4091.2500000000173,7364.999999999972,7647.4999999999945,-902.5000000000006,1081.249999999981,6872.500000000002,1951.2499999999836,3908.7499999999995,5258.750000000011,3858.750000000008,2000.0000000000073,2852.500000000009,-141.24999999999278,4431.249999999999,4791.249999999997,4591.250000000004,-9193.75,2043.7499999999998,3771.2500000000036,2651.250000000013,4824.999999999987,3752.4999999999977,1727.4999999999902,6113.750000000003,3848.749999999997,433.75000000000495,3406.2499999999955,5911.249999999997,2966.2500000000023,2203.7500000000086,2366.2500000000114,3935.0000000000064,1545.0000000000143,848.7500000000092,2941.2500000000064,4233.750000000003,-748.7500000000035,-2103.75000000001,6748.750000000001,4262.499999999993,-723.7499999999939,1087.499999999994,1447.5000000000016,2823.7499999999945,3298.7500000000045,1884.9999999999895,-450.0000000000032,101.24999999999996,2942.500000000005,2402.500000000002,2126.249999999995,-3496.249999999998,3621.2500000000036,-3635.0000000000077,2925.0000000000027,3041.2500000000036,351.25000000000017,-250.00000000000298,6042.499999999999,-373.75000000000045,2007.5000000000023,5416.250000000011,-346.2499999999993,962.500000000005],"xaxis":"x","y":[92797.49999999999,57594.999999999985,54331.250000000124,40846.249999999956,40782.50000000002,31189.999999999978,24069.999999999884,26486.24999999993,22478.749999999993,30212.49999999999,22980.000000000025,26942.500000000025,21474.999999999927,20193.75000000008,26652.49999999996,14986.249999999985,18537.500000000004,11873.750000000005,13292.499999999982,8202.500000000002,5633.750000000007,7515.0,12008.749999999996,16825.0,13388.749999999984,11153.750000000004,12071.250000000015,11856.249999999996,11737.499999999996,11893.749999999998,7788.749999999997,5252.499999999993,7530.000000000002,12719.999999999998,8466.249999999998,7883.750000000007,9933.749999999996,7581.2499999999945,7240.000000000002,4741.249999999994,6082.50000000001,8101.25,3553.7500000000005,8715.00000000001,3783.7500000000055,5093.749999999997,5948.750000000001,1724.999999999996,8284.999999999998,2963.7499999999955,5083.749999999996,9358.750000000007,6111.249999999997,10500.000000000005,6772.500000000001,9092.499999999993,5863.749999999998,3832.5000000000055,5442.500000000008,3253.749999999998,2452.500000000002,4602.500000000002,6438.749999999996,1314.999999999998,3173.750000000006,4604.999999999998,6641.25,9343.749999999998,2243.75,1463.7499999999998,3248.7499999999945,1953.7500000000014,4272.499999999995,3837.500000000002,4392.500000000002,3603.7499999999986,3306.250000000002,462.49999999999625,6638.750000000005,2853.7499999999995,4275.000000000004,448.7500000000033,1328.7500000000034,2166.25,3373.75,756.2500000000014,3601.2499999999977,9.999999999998899,4111.250000000003,2088.750000000003,5566.249999999989,897.5000000000011,1278.749999999998,4647.499999999995,759.9999999999995,769.9999999999986,3674.999999999999,6712.499999999997,959.9999999999998],"yaxis":"y","type":"scatter"},{"marker":{"color":"red","size":20,"symbol":"star"},"mode":"markers+text","name":"Punto Destacado","text":["Punto Destacado"],"textposition":"top center","x":[1316.95707070706],"y":[10535.239898989897],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Balance"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Drawdown"}},"coloraxis":{"colorbar":{"title":{"text":"Profile"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Drawdown x Balance x Profile"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('68bcb01d-8008-45b2-8ff5-366acf7a6440');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>
</body>
</html></div></div>
</div>
</section>
</section>
<section id="drawdown-vs-balance-vs-perfil">
<h2>Drawdown vs Balance vs Perfil<a class="headerlink" href="#drawdown-vs-balance-vs-perfil" title="Link to this heading">#</a></h2>
<p><strong>Distribuci√≥n General:</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: Los perfiles se distribuyen a lo largo del eje del balance desde aproximadamente -15k hasta 10k y en el eje de drawdown desde 0 hasta m√°s de 80k.</p></li>
<li><p>Interpretaci√≥n: Esta dispersi√≥n indica que el algoritmo experimenta una amplia gama de resultados en t√©rminos de balance y drawdown, dependiendo del timeframe utilizado.</p></li>
</ul>
<p><strong>Timeframes Cortos (Perfiles Morados/Azules):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: Los perfiles con colores m√°s morados/azules (timeframes cortos) tienden a agruparse en regiones con balances negativos y drawdowns elevados.</p></li>
<li><p>Interpretaci√≥n: Los timeframes cortos parecen estar asociados con mayores drawdowns y balances negativos, sugiriendo que la estrategia del algoritmo es menos efectiva en periodos de tiempo m√°s cortos, posiblemente debido a la mayor volatilidad o a la ineficacia de las se√±ales de trading en estos intervalos.</p></li>
</ul>
<p><strong>Timeframes Largos (Perfiles Amarillos/Naranjas):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: Los perfiles con colores m√°s amarillos/naranjas (timeframes largos) se agrupan m√°s cerca del eje de balance positivo y presentan drawdowns m√°s controlados.</p></li>
<li><p>Interpretaci√≥n: Los timeframes m√°s largos parecen ser m√°s beneficiosos para el algoritmo, mostrando menores drawdowns y balances m√°s positivos. Esto indica una mayor estabilidad y efectividad de la estrategia en periodos de tiempo m√°s largos, donde las tendencias de mercado pueden ser m√°s f√°ciles de captar y aprovechar.</p></li>
</ul>
<p><strong>Centroide (Punto Destacado):</strong></p>
<ul class="simple">
<li><p>Observaci√≥n: El punto destacado, que representa el centroide de todos los perfiles, se sit√∫a cerca del eje de balance cero y en una regi√≥n de drawdown relativamente bajo.</p></li>
<li><p>Interpretaci√≥n: El centroide indica que, en promedio, el algoritmo tiende a operar con un balance cercano a cero y un drawdown moderado. Esto sugiere que, considerando todos los timeframes, la estrategia del algoritmo tiende a ser neutral en t√©rminos de ganancia/p√©rdida neta, con una exposici√≥n al riesgo moderada.</p></li>
</ul>
<section id="conclusiones">
<h3><strong>Conclusiones:</strong><a class="headerlink" href="#conclusiones" title="Link to this heading">#</a></h3>
<p><strong>Estrategia de Timeframes Cortos:</strong></p>
<ul class="simple">
<li><p>Los timeframes cortos (perfiles morados/azules) tienden a estar asociados con resultados negativos y mayores drawdowns. Esto sugiere que las decisiones de trading basadas en intervalos cortos de tiempo podr√≠an estar expuestas a una mayor volatilidad y a se√±ales menos fiables, resultando en mayores p√©rdidas acumuladas.</p></li>
</ul>
<p><strong>Estrategia de Timeframes Largos:</strong></p>
<ul class="simple">
<li><p>Los timeframes largos (perfiles amarillos/naranjas) muestran una tendencia hacia balances positivos y drawdowns m√°s controlados. Esto indica que la estrategia del algoritmo es m√°s efectiva en estos intervalos, probablemente debido a una mejor capacidad para identificar y seguir las tendencias de mercado m√°s estables.</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#libraries">$<span class="math notranslate nohighlight">\(Libraries\)</span>$</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tick-processor">$<span class="math notranslate nohighlight">\( Tick Processor \)</span>$</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivo-general"><strong>Objetivo general:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#partes-principales-del-codigo"><strong>Partes principales del c√≥digo:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funciones-auxiliares"><strong>Funciones auxiliares:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcionamiento-de-la-estrategia-von-neuman"><strong>Funcionamiento de la estrategia ‚ÄúVon Neuman‚Äù:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyzer">$<span class="math notranslate nohighlight">\( Analyzer \)</span>$</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Objetivo general:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>Partes principales del c√≥digo:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><strong>Funciones auxiliares:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcionamiento-del-calculo-de-balance-y-drawdown"><strong>Funcionamiento del c√°lculo de balance y drawdown:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#compute-balance-for-big-file"><strong>compute_balance_for_big_file:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#compute-drawdown-for-big-file"><strong>compute_drawdown_for_big_file:</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><strong>Objetivo general:</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logica-principal"><strong>L√≥gica principal:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primer-grafica">Primer grafica</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segunda-grafica">Segunda grafica</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#drawdown-vs-balance-vs-perfil">Drawdown vs Balance vs Perfil</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusiones"><strong>Conclusiones:</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Juan Albis y Lorenzo Gutierrez
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>